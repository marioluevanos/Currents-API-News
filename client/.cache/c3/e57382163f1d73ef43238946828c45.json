{"id":"Quf1","dependencies":[{"name":"/Users/marioluevanos/Web Development/Journalism-Died/client/.babelrc","includedInParent":true,"mtime":1602977442634},{"name":"/Users/marioluevanos/Web Development/Journalism-Died/client/package.json","includedInParent":true,"mtime":1602977663027},{"name":"./api.js","loc":{"line":1,"column":26},"parent":"/Users/marioluevanos/Web Development/Journalism-Died/client/src/scripts/search.js","resolved":"/Users/marioluevanos/Web Development/Journalism-Died/client/src/scripts/api.js"},{"name":"./update.js","loc":{"line":2,"column":29},"parent":"/Users/marioluevanos/Web Development/Journalism-Died/client/src/scripts/search.js","resolved":"/Users/marioluevanos/Web Development/Journalism-Died/client/src/scripts/update.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.initSearch=i;var e=require(\"./api.js\"),t=require(\"./update.js\");const n=document.querySelector(\"h1\"),o=document.getElementById(\"keywords\"),s=document.getElementById(\"news-form\"),c=document.getElementById(\"search-button\");function i(){o.addEventListener(\"focus\",d),o.addEventListener(\"blur\",r),c.addEventListener(\"click\",a),n.addEventListener(\"click\",u),a()}async function a(n){n&&n.preventDefault();const{data:o,url:s}=await(0,e.fetchData)();(0,t.updatePageUI)(o,s)}function d(){s.classList.add(\"is-focused\")}function r(){s.classList.remove(\"is-focused\")}function u(){const n=window.scrollY/2,o=window.scrollY>n?window.innerHeight:0,s=1e3*((window.scrollY+o)/document.body.clientHeight);window.scrollTo({top:0,behavior:\"smooth\"}),setTimeout(async()=>{const{data:n,url:o}=await(0,e.fetchData)({latestNews:!0});(0,t.updatePageUI)(n,o)},s)}"},"sourceMaps":{"js":{"mappings":[{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":0}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":13}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":20}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":35}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":43}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":56}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":57}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":64}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":68}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":76}},{"source":"scripts/search.js","original":{"line":55,"column":1},"generated":{"line":1,"column":87}},{"source":"scripts/search.js","original":{"line":1,"column":0},"generated":{"line":1,"column":89}},{"source":"scripts/search.js","original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"scripts/search.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"scripts/search.js","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"scripts/search.js","original":{"line":2,"column":0},"generated":{"line":1,"column":115}},{"source":"scripts/search.js","original":{"line":2,"column":0},"generated":{"line":1,"column":117}},{"source":"scripts/search.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"scripts/search.js","original":{"line":5,"column":0},"generated":{"line":1,"column":140}},{"source":"scripts/search.js","name":"newsTitle","original":{"line":5,"column":6},"generated":{"line":1,"column":146}},{"source":"scripts/search.js","name":"document","original":{"line":5,"column":18},"generated":{"line":1,"column":148}},{"source":"scripts/search.js","name":"querySelector","original":{"line":5,"column":27},"generated":{"line":1,"column":157}},{"source":"scripts/search.js","original":{"line":5,"column":41},"generated":{"line":1,"column":171}},{"source":"scripts/search.js","name":"keywords","original":{"line":6,"column":6},"generated":{"line":1,"column":177}},{"source":"scripts/search.js","name":"document","original":{"line":6,"column":17},"generated":{"line":1,"column":179}},{"source":"scripts/search.js","name":"getElementById","original":{"line":6,"column":26},"generated":{"line":1,"column":188}},{"source":"scripts/search.js","original":{"line":6,"column":41},"generated":{"line":1,"column":203}},{"source":"scripts/search.js","name":"searchForm","original":{"line":7,"column":6},"generated":{"line":1,"column":215}},{"source":"scripts/search.js","name":"document","original":{"line":7,"column":19},"generated":{"line":1,"column":217}},{"source":"scripts/search.js","name":"getElementById","original":{"line":7,"column":28},"generated":{"line":1,"column":226}},{"source":"scripts/search.js","original":{"line":7,"column":43},"generated":{"line":1,"column":241}},{"source":"scripts/search.js","name":"searchButton","original":{"line":8,"column":6},"generated":{"line":1,"column":254}},{"source":"scripts/search.js","name":"document","original":{"line":8,"column":21},"generated":{"line":1,"column":256}},{"source":"scripts/search.js","name":"getElementById","original":{"line":8,"column":30},"generated":{"line":1,"column":265}},{"source":"scripts/search.js","original":{"line":8,"column":45},"generated":{"line":1,"column":280}},{"source":"scripts/search.js","original":{"line":13,"column":7},"generated":{"line":1,"column":297}},{"source":"scripts/search.js","name":"initSearch","original":{"line":13,"column":16},"generated":{"line":1,"column":306}},{"source":"scripts/search.js","name":"keywords","original":{"line":14,"column":4},"generated":{"line":1,"column":310}},{"source":"scripts/search.js","name":"addEventListener","original":{"line":14,"column":13},"generated":{"line":1,"column":312}},{"source":"scripts/search.js","original":{"line":14,"column":30},"generated":{"line":1,"column":329}},{"source":"scripts/search.js","name":"onSearchFocus","original":{"line":14,"column":39},"generated":{"line":1,"column":337}},{"source":"scripts/search.js","name":"keywords","original":{"line":15,"column":4},"generated":{"line":1,"column":340}},{"source":"scripts/search.js","name":"addEventListener","original":{"line":15,"column":13},"generated":{"line":1,"column":342}},{"source":"scripts/search.js","original":{"line":15,"column":30},"generated":{"line":1,"column":359}},{"source":"scripts/search.js","name":"onSearchBlur","original":{"line":15,"column":38},"generated":{"line":1,"column":366}},{"source":"scripts/search.js","name":"searchButton","original":{"line":16,"column":4},"generated":{"line":1,"column":369}},{"source":"scripts/search.js","name":"addEventListener","original":{"line":16,"column":17},"generated":{"line":1,"column":371}},{"source":"scripts/search.js","original":{"line":16,"column":34},"generated":{"line":1,"column":388}},{"source":"scripts/search.js","name":"onSearchClick","original":{"line":16,"column":43},"generated":{"line":1,"column":396}},{"source":"scripts/search.js","name":"newsTitle","original":{"line":17,"column":4},"generated":{"line":1,"column":399}},{"source":"scripts/search.js","name":"addEventListener","original":{"line":17,"column":14},"generated":{"line":1,"column":401}},{"source":"scripts/search.js","original":{"line":17,"column":31},"generated":{"line":1,"column":418}},{"source":"scripts/search.js","name":"onTitleClick","original":{"line":17,"column":40},"generated":{"line":1,"column":426}},{"source":"scripts/search.js","name":"onSearchClick","original":{"line":20,"column":4},"generated":{"line":1,"column":429}},{"source":"scripts/search.js","original":{"line":27,"column":0},"generated":{"line":1,"column":433}},{"source":"scripts/search.js","name":"onSearchClick","original":{"line":27,"column":15},"generated":{"line":1,"column":448}},{"source":"scripts/search.js","name":"event","original":{"line":27,"column":30},"generated":{"line":1,"column":450}},{"source":"scripts/search.js","name":"event","original":{"line":28,"column":7},"generated":{"line":1,"column":453}},{"source":"scripts/search.js","name":"event","original":{"line":28,"column":14},"generated":{"line":1,"column":456}},{"source":"scripts/search.js","name":"preventDefault","original":{"line":28,"column":20},"generated":{"line":1,"column":458}},{"source":"scripts/search.js","original":{"line":30,"column":10},"generated":{"line":1,"column":475}},{"source":"scripts/search.js","original":{"line":30,"column":10},"generated":{"line":1,"column":481}},{"source":"scripts/search.js","name":"data","original":{"line":30,"column":12},"generated":{"line":1,"column":486}},{"source":"scripts/search.js","original":{"line":30,"column":10},"generated":{"line":1,"column":488}},{"source":"scripts/search.js","name":"url","original":{"line":30,"column":18},"generated":{"line":1,"column":492}},{"source":"scripts/search.js","original":{"line":30,"column":32},"generated":{"line":1,"column":501}},{"source":"scripts/search.js","original":{"line":30,"column":4},"generated":{"line":1,"column":503}},{"source":"scripts/search.js","original":{"line":30,"column":4},"generated":{"line":1,"column":505}},{"source":"scripts/search.js","name":"data","original":{"line":31,"column":17},"generated":{"line":1,"column":519}},{"source":"scripts/search.js","name":"data","original":{"line":31,"column":17},"generated":{"line":1,"column":521}},{"source":"scripts/search.js","name":"data","original":{"line":31,"column":17},"generated":{"line":1,"column":523}},{"source":"scripts/search.js","name":"data","original":{"line":31,"column":17},"generated":{"line":1,"column":537}},{"source":"scripts/search.js","name":"url","original":{"line":31,"column":23},"generated":{"line":1,"column":539}},{"source":"scripts/search.js","original":{"line":34,"column":0},"generated":{"line":1,"column":542}},{"source":"scripts/search.js","name":"onSearchFocus","original":{"line":34,"column":9},"generated":{"line":1,"column":551}},{"source":"scripts/search.js","name":"searchForm","original":{"line":35,"column":4},"generated":{"line":1,"column":555}},{"source":"scripts/search.js","name":"classList","original":{"line":35,"column":15},"generated":{"line":1,"column":557}},{"source":"scripts/search.js","name":"add","original":{"line":35,"column":25},"generated":{"line":1,"column":567}},{"source":"scripts/search.js","original":{"line":35,"column":29},"generated":{"line":1,"column":571}},{"source":"scripts/search.js","original":{"line":38,"column":0},"generated":{"line":1,"column":585}},{"source":"scripts/search.js","name":"onSearchBlur","original":{"line":38,"column":9},"generated":{"line":1,"column":594}},{"source":"scripts/search.js","name":"searchForm","original":{"line":39,"column":4},"generated":{"line":1,"column":598}},{"source":"scripts/search.js","name":"classList","original":{"line":39,"column":15},"generated":{"line":1,"column":600}},{"source":"scripts/search.js","name":"remove","original":{"line":39,"column":25},"generated":{"line":1,"column":610}},{"source":"scripts/search.js","original":{"line":39,"column":32},"generated":{"line":1,"column":617}},{"source":"scripts/search.js","original":{"line":42,"column":0},"generated":{"line":1,"column":631}},{"source":"scripts/search.js","name":"onTitleClick","original":{"line":42,"column":9},"generated":{"line":1,"column":640}},{"source":"scripts/search.js","name":"half","original":{"line":43,"column":10},"generated":{"line":1,"column":644}},{"source":"scripts/search.js","name":"half","original":{"line":43,"column":10},"generated":{"line":1,"column":650}},{"source":"scripts/search.js","name":"window","original":{"line":43,"column":17},"generated":{"line":1,"column":652}},{"source":"scripts/search.js","name":"scrollY","original":{"line":43,"column":24},"generated":{"line":1,"column":659}},{"source":"scripts/search.js","original":{"line":43,"column":34},"generated":{"line":1,"column":667}},{"source":"scripts/search.js","name":"diff","original":{"line":44,"column":10},"generated":{"line":1,"column":669}},{"source":"scripts/search.js","name":"window","original":{"line":44,"column":17},"generated":{"line":1,"column":671}},{"source":"scripts/search.js","name":"scrollY","original":{"line":44,"column":24},"generated":{"line":1,"column":678}},{"source":"scripts/search.js","name":"half","original":{"line":44,"column":34},"generated":{"line":1,"column":686}},{"source":"scripts/search.js","name":"window","original":{"line":44,"column":41},"generated":{"line":1,"column":688}},{"source":"scripts/search.js","name":"innerHeight","original":{"line":44,"column":48},"generated":{"line":1,"column":695}},{"source":"scripts/search.js","original":{"line":44,"column":62},"generated":{"line":1,"column":707}},{"source":"scripts/search.js","name":"timeout","original":{"line":46,"column":10},"generated":{"line":1,"column":709}},{"source":"scripts/search.js","original":{"line":46,"column":20},"generated":{"line":1,"column":711}},{"source":"scripts/search.js","name":"window","original":{"line":45,"column":21},"generated":{"line":1,"column":717}},{"source":"scripts/search.js","name":"scrollY","original":{"line":45,"column":28},"generated":{"line":1,"column":724}},{"source":"scripts/search.js","name":"diff","original":{"line":45,"column":38},"generated":{"line":1,"column":732}},{"source":"scripts/search.js","name":"document","original":{"line":45,"column":47},"generated":{"line":1,"column":735}},{"source":"scripts/search.js","name":"body","original":{"line":45,"column":56},"generated":{"line":1,"column":744}},{"source":"scripts/search.js","name":"clientHeight","original":{"line":45,"column":61},"generated":{"line":1,"column":749}},{"source":"scripts/search.js","name":"window","original":{"line":47,"column":4},"generated":{"line":1,"column":763}},{"source":"scripts/search.js","name":"scrollTo","original":{"line":47,"column":11},"generated":{"line":1,"column":770}},{"source":"scripts/search.js","original":{"line":47,"column":20},"generated":{"line":1,"column":779}},{"source":"scripts/search.js","name":"top","original":{"line":48,"column":8},"generated":{"line":1,"column":780}},{"source":"scripts/search.js","original":{"line":48,"column":13},"generated":{"line":1,"column":784}},{"source":"scripts/search.js","name":"behavior","original":{"line":49,"column":8},"generated":{"line":1,"column":786}},{"source":"scripts/search.js","original":{"line":49,"column":18},"generated":{"line":1,"column":795}},{"source":"scripts/search.js","name":"setTimeout","original":{"line":51,"column":4},"generated":{"line":1,"column":806}},{"source":"scripts/search.js","original":{"line":51,"column":15},"generated":{"line":1,"column":817}},{"source":"scripts/search.js","original":{"line":52,"column":14},"generated":{"line":1,"column":827}},{"source":"scripts/search.js","original":{"line":52,"column":14},"generated":{"line":1,"column":833}},{"source":"scripts/search.js","name":"data","original":{"line":52,"column":16},"generated":{"line":1,"column":838}},{"source":"scripts/search.js","original":{"line":52,"column":14},"generated":{"line":1,"column":840}},{"source":"scripts/search.js","name":"url","original":{"line":52,"column":22},"generated":{"line":1,"column":844}},{"source":"scripts/search.js","original":{"line":52,"column":36},"generated":{"line":1,"column":853}},{"source":"scripts/search.js","original":{"line":52,"column":46},"generated":{"line":1,"column":855}},{"source":"scripts/search.js","original":{"line":52,"column":46},"generated":{"line":1,"column":857}},{"source":"scripts/search.js","original":{"line":52,"column":46},"generated":{"line":1,"column":868}},{"source":"scripts/search.js","name":"latestNews","original":{"line":52,"column":48},"generated":{"line":1,"column":869}},{"source":"scripts/search.js","original":{"line":52,"column":60},"generated":{"line":1,"column":881}},{"source":"scripts/search.js","name":"data","original":{"line":53,"column":21},"generated":{"line":1,"column":886}},{"source":"scripts/search.js","name":"data","original":{"line":53,"column":21},"generated":{"line":1,"column":888}},{"source":"scripts/search.js","name":"data","original":{"line":53,"column":21},"generated":{"line":1,"column":890}},{"source":"scripts/search.js","name":"data","original":{"line":53,"column":21},"generated":{"line":1,"column":904}},{"source":"scripts/search.js","name":"url","original":{"line":53,"column":27},"generated":{"line":1,"column":906}},{"source":"scripts/search.js","name":"timeout","original":{"line":54,"column":7},"generated":{"line":1,"column":910}}],"sources":{"scripts/search.js":"import { fetchData } from './api.js';\nimport { updatePageUI } from './update.js';\n\n// Cache Elements\nconst newsTitle = document.querySelector('h1');\nconst keywords = document.getElementById('keywords');\nconst searchForm = document.getElementById('news-form');\nconst searchButton = document.getElementById('search-button');\n\n/**\n * Initialize the search and add search events\n */\nexport function initSearch () {\n    keywords.addEventListener('focus', onSearchFocus);\n    keywords.addEventListener('blur', onSearchBlur);\n    searchButton.addEventListener(\"click\", onSearchClick);\n    newsTitle.addEventListener('click', onTitleClick);\n\n    // Search on inital load\n    onSearchClick();\n}\n\n/**\n * Click hanlder that creates a new search URL, fetched the data, and updates the UI\n * @param {Object} event\n */\nasync function onSearchClick (event) {\n    if(event) event.preventDefault();\n    \n    const { data, url } = await fetchData();\n    updatePageUI(data, url);\n}\n\nfunction onSearchFocus() {\n    searchForm.classList.add('is-focused');\n}\n\nfunction onSearchBlur () {\n    searchForm.classList.remove('is-focused');\n}\n\nfunction onTitleClick() {\n    const half = window.scrollY / 2;\n    const diff = window.scrollY > half ? window.innerHeight : 0;\n    const percent = (window.scrollY + diff) / (document.body.clientHeight);\n    const timeout = 1000 * percent;\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n    });\n    setTimeout(async () => {\n        const { data, url } = await fetchData({ latestNews: true });\n        updatePageUI(data, url);\n    }, timeout);\n}"},"lineCount":null}},"error":null,"hash":"4f77b89b54c10c1575f66b6c64a8e1d7","cacheData":{"env":{}}}