{"version":3,"sources":["scripts/state.js","scripts/api.js","scripts/filters.js","scripts/newsCard.js","scripts/pagination.js","scripts/update.js","scripts/category.js","scripts/language.js","scripts/region.js","scripts/date.js","scripts/search.js","scripts/theme.js","scripts/index.js"],"names":["IS_DEV","window","location","hostname","BASE_URL","state","htmlEl","document","documentElement","newsResults","getElementById","keywordsEl","languageEl","regionEl","categoriesEl","startDateEl","endDateEl","fetchData","latestNews","pageNumber","url","buildUrl","classList","add","response","fetch","ok","postErrorMessage","data","json","remove","error","console","fetchFilterOptions","name","localStorage","storedData","getItem","JSON","parse","dropDownType","setItem","stringify","isKeyword","value","isLanguage","isRegion","isCategory","isStartDate","isEndDate","isAllBlank","isDefault","searchUrl","resetSearchValues","replace","alert","innerHTML","newsFilters","querySelector","filterButton","filterTrayButtons","querySelectorAll","filterGroups","initFilters","loadFilters","addEventListener","toggleAsideFilters","forEach","button","onTrayButtonClick","closeAllFilters","closedValue","getComputedStyle","getPropertyValue","openValue","toggle","asideWidth","contains","style","setProperty","event","activeName","target","dataset","group","groupName","updateTrayText","language","region","languageTrayText","regionTrayText","Array","from","map","languageText","children","find","option","selected","innerText","regionText","loadStoredFilter","keyName","el","storedLang","results","Promise","all","categories","languages","regions","appendFilterOptions","selector","list","sortAlphabetically","item","toTitleCase","entries","Object","key","text","split","word","match","toUpperCase","join","sort","a","b","createNewsCard","news","create","newsText","createNewsText","hasImage","image","newsImage","createNewsImage","appendChild","animateIntoView","title","newsLink","createNewsLink","newsPicture","setAttribute","createNewsFooter","author","newsFooter","icon","createIconExternal","removeURLs","newsAuthor","authors","cleanUpAuthors","description","category","published","newsMeta","createNewsMeta","newsTitle","createNewsTitle","newsDesc","descText","removeHTMLTags","newsHeadline","newsDetails","categoriesList","newsCategory","separator","newsPubDate","date","Date","toISOString","pubDate","timeAgo","filteredCat","filter","catText","includes","idx","onCategoryTagClick","lastEl","length","temp","createElement","cleanedAuthor","parseJSON","Boolean","src","slice","trim","html","j","tag","timeTemplates","prefix","suffix","seconds","minute","minutes","hour","hours","day","days","month","months","year","years","timeTemplate","t","n","Math","abs","round","time","now","getTime","options","rootMargin","threshold","callback","entry","ratio","intersectionRatio","top","boundingClientRect","shouldAppear","shouldHide","observer","IntersectionObserver","observe","prev","next","current","updatePagination","page","prevPage","removeAttribute","nextPage","paginatePage","store","updatePageUI","opacity","onTransitionEnd","appendData","searchNotFound","card","propertyName","removeEventListener","scrollTo","goBack","href","e","preventDefault","cssText","initCategoryChange","onChange","initLanguageChange","lang","regionsEl","initRegionChange","startDate","endDate","apply","start","end","initDateChange","bind","onApply","type","keywords","searchForm","searchButton","initSearch","onSearchFocus","onSearchBlur","onSearchClick","onTitleClick","half","scrollY","diff","innerHeight","percent","body","clientHeight","timeout","behavior","setTimeout","themeCheckbox","themeClassName","initTheme","loadTheme","checked","toggleTheme","bool","isDark","startApp"],"mappings":";;AYAA;;AACA;;AACA,AZFA,AWAA,MXAMA,AWAAgS,MXAM,GAAG/R,IWAI,EXAE,CAACC,AWAAK,QXAP,AWAe,CXACJ,AWAAO,QXAhB,KAA6B,CWAtB,CAAwB,SXA9C,KWAsB,CAAtB;AFAA,AFAA,AJAA,ACAA,AIAA,AEAA,AVCA,AWAA,ANDA,MLCMN,AWAA6R,QXAQ,GAAGjS,GWAG,GXAG,AWAA,GXAG,WWA1B,4CXAuB,GAA6D,4DAApF;AMDA,AMGA,AZAO,AWAP,MXAaK,KAAK,GAAG;ACHrB,AQCA,AFAA,AJAA,ACAA,AIAA,AEAA,AVGIL,AWAJ,ANHA,ELGIA,MADiB;AMFrB,AJDA,AUIA,AZCII,AWAJ,EXAIA;ACHJ,AQAA,AFAA,AJCA,ACAA,AIDA,AECA,AVAqB,AKDrB,CLCO,KCDDE,AGCAiO,IAAI,EHDE,CGCChO,EHDEA,MGCM,CAACG,CHDC,CAACF,YGCX,CAAwB,EHDrC,SGCa,CAAb;AHAA,AKDA,AJDA,AUIA,ATDA,ACAA,AMAA,ACEO,MVHDC,AGCA+N,AMAAzE,GCEUmI,CPFN,GAAG3R,EMAE,ETDE,CSCCA,ACEX,EVHaA,CGCC,AOEO,CPFNG,IMAI,CAACgD,CTDC,CAAChD,OGChB,CAAwB,GMAnB,CAAuB,ETDrB,CAAwB,CSC1B,CAAlB,ENAa,CAAb,SHDoB,CAApB;AACA,AQAA,AFIA,AJHA,ACAA,AIGA,AEHA,ACEIsR,ANHJ,EMGIA,IVHErR,AQAA0P,AFIAzP,AHHA6N,AIGA0B,AEHAW,ALDArQ,ODCO,CMAC,CDDC,ADIA,AGDE,CVHD,AMIA,AHHAF,AOEE0D,CDFD1D,ALDA,CIACA,ADIAA,CPJCA,AMIAA,CFJCA,IDCI,CAACG,AMAA,CDDC,ADIA,AEHAA,CTDC,AQAAA,AFIA,ACAAA,CPJCA,AMIAA,AFJA,CAACA,GMGzB,CAA+B,MPFnB,CAAwB,AMAvB,CDDC,ADIA,AEHuB,ACErC,CVHe,AQAuB,AFIvB,ACAuB,CPJC,AMIA,AIDEsP,ANHzB,CAAwB,OKC3B,ACEb,CDFJ,CTDmB,CAAnB,GOIkB,CAAlB,AHJoB,CDCJ,ACDhB,CEImB,AHHnB,CKDkB,AFIlB,CEJA;ARCA,AKDA,AGCA,APFA,AUGA,ALIA,AJJA,ACCA,AIGA,AEJA,ACEImC,ANHJ,EMGIA,ENHAnD,EJAEpO,AKDAE,AGCAwP,ACCAS,GLDG,EMGI,CNHD,CIAC,CJAb,EJAgB,AQAAxQ,ACCA,EJFE,CLCCA,ASCAA,EJFEA,GGCG,CAACG,ERAE,ASCA,CTDCA,ASCAA,CJFC,CAACA,SGCd,CAAwB,ERArB,ASCA,CTDwB,ASCA,CJFtB,CAAwB,SIE1B,CAAnB,EDDgB,CAAhB,ERAmB,CAAnB,GKDqB,CAArB;ALEA,AKAA,AGAA,APFA,AKOA,AJJA,ACCA,AIGA,AEJA,ACEC,ANFD,MJDMG,AQAA0P,APFA9P,AQGAuQ,KDDK,GRAG,AQAAzQ,GRAGA,ACFA,CQGC,ERHEA,CQGCA,CDDC,CAACG,ERAE,CAACA,ECFE,CAACA,AQGA,CAACA,ODDhB,CAAwB,ERArB,CAAwB,ECFrB,CAAwB,AQGvB,CAAwB,WTD5B,CAAjB,AQAc,CAAd,APFoB,CAApB,CQGqB,CAArB;ATAA,AKAA,AGAA,APFA,AUGA,ALIA,AJJO,ACCP,AIGA,AEHA,ACEA,ANHA,IIDI8P,ERAE1P,ACFA2C,GOEN,ANCgBwE,QDHC,CDEC,ECFE1H,CDECA,EECd,CAAyBqB,IDHJ,ACGrB,CFDsB,ACFA8B,CDEChD,AECQ,YDHlB,CAAuB,CDEtB,CAAwB,aCFzB,CAApB,KDEqB,CAArB;AACA,AKAA,AGAA,APFA,AUGA,ATAI,ACCJ,AMAA,ACEA,ANHA,IIDI+P,ERAE1P,ACFA4C,COEN,CNCUuE,IAAI,GAAGC,EFDA,CCFC,EDEE5H,CCFCA,ACGE,CAAC,KAAD,CFDK,AECxB,CFDyBG,ACFA,CAACA,aDEV,CAAwB,ACFvB,CAAwB,eAAxB,CAArB,EDEoB,CAApB;AACA,AQCA,APHA,AUGA,ALGO,AJHH,ACCJ,AIEO,AEFP,ACEA,ANHA,MJDMM,ACFA4C,ECGIwE,CIGM6H,ACAAG,MPJD,CECG,EFDA7P,CECG8H,IDHE,EMMhB,CPJmB,ACFA9H,CDECG,AMIpB,CCA4B,EDAE,GJHF,CDHD,ACGEkB,CDHDiC,GCGA,CAA/B,EFDc,CAAwB,SCFhB,CAA0B,ODElC,CAAlB,aCF0B,CAA1B;ADIA,AKFO,AGEP,APHA,AUGA,ALGIjD,AJFA,AKEAuP,AHHJ,EEGIvP,ACAAuP,INNErM,ECIIwE,CGHMyH,EEKH,CDAC,ACAA9L,CDACA,EKHAuO,CTCG,EDJA,CCIG5Q,EDJArB,EUGrB,ATCyB,CAACgI,ESDC,CNFpB,CEKH,CNNyB,AKMzB,AJFiB,AKEU,CFLO,AJDR1E,AKME,IJFI,GKEhC,CDAA,CCAqCmM,CDACA,AJFtC,MDJiB,CAA0B,AMM3C,CDAA,cLNiB,CAArB;ADIA,AKFI,AGEJ,APFA,AUGI,ALEA,AHHG,AIGH,AEHG,SNAStB,AMAAuC,UAAT,GAAuB,GNAvB,CAA0BrP,IAA1B,EAAgCR,CEFlB,ACKA,ACAA,EJHd,EAAqC,IIGxC,EFLA,ACKA,ACA2B+O,EFLErP,ACKAF,OCA7B,GDAA,EDLA;ALGJ,AKFIE,AJAJ,AUGI,ALEH,AJHG,ACCA,AIEH,AEHGgQ,ACCJ,ANFO,ECDHhQ,AEOJ,AELIgQ,IPAIxI,ESCE,CDAD0H,ANFOf,CKCJ,CAAChL,GJFG,AHEZ,CGFaA,CHEC,CQClB,CAAmBe,GNFZ,CAAuBpD,CME9B,EAA0B,CNFQ,CKC9B,CAA0B,CLDO,ECDjC,CAA8B,GMG9B,AFDA,EAAmCsP,GJFnC,EAAwClB,QAAxC,AIEA;ATCJ,AKFC,AGCM,APDP,AUGI,ATDI,ACCJvB,AMDAqC,ACCA,ANHmC5I,EDGnCuG,AMDAqC,ALFmC5I,IAAI,EMGjC,ANHmC,CIC7BwI,ALEL,CDDGlI,ACCFrC,AMDA,CAAClC,QPAU,ACCnB,GDDsBwE,ACCF7G,CKFjB,GAA0B,ALEL,CAAC+M,AMDzB,CAA0B,GNC1B,CAHwC,CAKxC,CMHA,EAAkCwC,CPAG,CAACvP,IAAD,CAAjC,KOAJ;ADCA,AGCA,ALEJ,AJHQsG,ACGJ,AMHA8I,ACAQoB,ANHyB,CAA9B,CKGHpB,CLH+C5P,CFG3C8G,AQAIkK,ENH0C,EFG1C,CAAC1J,AEH4C,EAAlD,EAAuD,CKG9C,CHGDsH,AGHE/L,KPAT,CAAiBuE,EIGzB,CAAyBxD,KAAzB,CJHQ,CIGwB,AGH5B,CAA8B,OAA9B,EAAuCoM,aAAvC;ATAG,AKDP,AGEIf,APHG,AUIH,ALEA,AJHInI,AKGR,AEHI6B,ACDM,ANFNiF,EIGAqB,ACAAtG,ALHAiF,EFGI9G,EQDgBlD,CNFf,CEMC,AJHE,CAAC1D,CEHD,CIGC,ACAA,ACDgB,CFCf2C,ACAAA,ACDgBiB,GVARjE,AKDP+O,AJDOjM,AMMPiM,GLHP,AQDJ,CRCmBzO,GAAf,CGFR,AHE2B,AKG3B,CPJO,AKDkByD,AEKAA,CPJQ,CCF1B,EOGH,ACAA,CJFJ,AGE+B,APHM,AMMrC,AEH+B,EJFC,AEKA,GLHxB,EOAJ,CDAA,CCAoCqM,CDACrB,QAAQ,CAACW,ECA9C,EDAqC,ACJX,CDIyB,ACEnD,IDFqC,EAAoB,WAApB,CAArC;ARD+BzP,AKA/B,AGEAoP,APHA,AUIA,ALCQ1O,AJFP,ACED,AICA,AGJAyQ,ANHUzQ,EJEqBV,AQE/BoP,AEDA+B,EJGQzQ,AFNEA,ICEJ,AJDAoC,AKKA,AHAA4K,AICA,AHPE,CIID,CAAC3K,ERFqB,CUClB,CAACmO,EPGE,GFLG,AEKAxQ,EFLjB,ASEW,CAAX,CPGqB,CAAC+M,EKFtB,CAAyB,CLER,GAAY,CAA7B,GKFA,EAAmCqB,QAAQ,CAACW,IAAT,CAAc,IAAd,EAAoB,SAApB,CAAnC,EAJ6B,CAM7B;ARJ2CxP,AKAnCS,AJAR+B,AUIA,ALAcvC,ACCNQ,AEDRwP,ACFAjP,ANJgBf,EJE2BD,ACA3CwC,AQIAyN,ACFAjP,ELFQP,ACIMR,ACCNQ,AHPQR,ICEV,AEKA,MNLM,ASEA,CTFC6C,AQIA,ACFAxB,OAAb,CAAqBwP,QTFrB,CAA8B,KSE9B,ETFA,ASEqCG,ETFElO,KSEvC,aTFA;ADA6B,AKAf9C,AGKdmP,APJA3M,AUIA,ALDM,AJANsE,ACCA,AIAc9G,AEAjB,ACFA,ANLW,EIORmP,APJA3M,ACGAsE,CENA,CJE0D,AKA5C9G,AEKAA,EPLX,AMImB,AJAlB,ACCAwN,CKAC,ANDAtN,CFJyD,AQKxD2C,IFDsB,EHChB,EDDZ,CAAe1C,ACCA,CAAf,CFJiB,CAAC4C,ACGlB,ACCkB,CDDC,GMCnB,CAAuB,EPJvB,ACGA,CDH0BC,IOI1B,CFDA,CECgCwM,APJA,IAAIxM,GOIpC,GPJ0C,CAACH,gBAAP,CAAwB,OAAxB,EAAiCI,iBAAjC,CAApC;ADCA,AKFM,AGMT,APJG5D,AUIH,ALDG,AJAAyH,ACCIqG,AIDE,AEEV,ACFA,ANNI9N,EISJ,APNIA,ACGAyH,AENAzH,EDOI8N,EHJAnN,AKFkB,AHKlB,AKAkB,CLAjBsH,CIACwH,AHCE,CHJD,AGIElH,GHJC3H,AKFkB,ACKlB,ACAkB,CNHjB,AGHA,CHGC4C,AGHAa,CEMCE,GJAb,CAAiBoD,AENjB,CJGkB,AMGA,AFNA8G,CJGC,AMGAhK,AHCf,CAAkB,KGDT,AJAb,AENA,CEM0BtC,CJZQ,CDSlC,ACKA,AER4B,CHGC,AGH7B,ECCA,ACKA,AHCI,AIDJ,CFN4B,ACIA,ACCA,CFF5B,ACKA,AHDmCgM,AICnC,GNLA,EAAsCtK,GEIlC,YFJJ;ADAqBpD,AQOzB,APNC,AEIOqN,AMCR,ACFA,ANNI9N,EAAAA,EJEqBS,AGKjBqN,IAAI,CAACM,ICPE,CJEQ,AIFP5K,UDOR,CAAqB,KCPzB,CAA6B,IDOzB,WCPJ,EAA8CkL,eAA9C;AJEiChO,AKCjC,AJEJ,AUGAqR,ALAI,AJAA7J,ACAC,AIAD,AECJ,ACFA,ANNC,EFOGA,CCHA,CHHiCxH,IWM7B,CRAG,QDAQ,CAAC+G,IAAD,CAAf,KGLatG,ACKAA,ACAAA,IFLb,ACKA,ACAA,EFLmBR,ACKAA,ACAAA,GFLnB,ACKA,ACAA,EFT4B,CAM5B;ALHmB,ACIvB,AKGI,AJAA,ACAImN,AIAJ,AECJ,ACFA,ANLA,GJDsB,CAAlB,AGOIA,CHT0D,CAI9D,EGKQ,CDADrG,ACAEc,IDAT,QCAI,CAAkB,SGAP,ACAA,CJAX,EAA8B,IAA9B;AEHJ7G,AGIJ,APHA,AKEqBoD,AJCpB,ACAI,AIDgBC,AHLrB,ECEIrD,CFTwC,CGYvBoD,AHGjB,AIHiBC,KCCZwK,CDDkB,EDAE,ACAAhL,EFHb,ACGeA,CDHdvC,EGIjB,ADDkC,CCCfoO,ADDgB3L,CDAC,CAACA,EDHjC,AGIJ,CHJyB,CGIAF,KAAzB,EAAgC,EHJ5B,EAAiCA,KAAK,CAACE,MAAN,CAAatC,KAA9C;ALDAtC,AKEH,AGIG,AFFe,ACAA,AHJnB,EJAIA,CMIA,ACAA,GCEGuQ,ERNG,CAACvP,CQMA,KAAK,GRNZ,CAAiBC,GAAjB,CAAqB,GQMrB,EAAyB,ORNzB,EAL8D,CAO9D;AACA,AKCJ,AGGQiP,AFFJ,AJEJ,AKFI,AECJ,ACFA,ANHA,IIMQA,KAAK,ANAJ/H,AQHA4J,GFGOrN,GCDDoM,EDCM,CAAClM,EEHtB,CAAqBoN,GFGL,ANAhB,CMA6B1P,ANAH,AQH1B,EAA2B,CDE3B,CAA8BoC,CDCtB,IFTwB,ACCA,AEOhC,CHCI,ACAA,CEDiC;ATFjC,AKCJ,AGGK,APLL,ACI4B5D,ACCxB,AMDA,ACFAb,ANHJ,EFK4Ba,AQFxBb,GREsB,COAnByE,ENCG8J,CFLD5K,CSEG,CDER,ACFS1D,EDECwE,GNCI,EMDC,CNCEpD,AMDDiO,INCK,CAAClB,EOHtB,CTFJ,ASE6BrN,CPGR,EFLS,CEKG,CAA7B,CMDU,GCFV,CAAmCqD,MAAnC,CAA0CsN,cAA1C,EAA0DK,IAA1D;AVCA,AKAJ,AJFI,AKIAnQ,AJD6BoG,ACE7BiG,AIDArM,AECA,ACHH,EJEGA,AJD6BoG,ACE7BiG,AIDArM,IJCI,CDFkB,ACEjB6G,CFLCzE,AQKA,MHDM,ACAA,CDAC9B,ACAAA,INJI,AEKjB,CAAkB,EFLE+B,AKIpB,ACAA,CDAqB,ACAA,QJCrB,AIDA,EDAA,AHC+BsK,AIDA9J,EDAEkL,GLJG,AMIA,CNJC3P,AKIrC,ACAqC2E,EDVT,AHW5B,CGCA,GCF+B,CAAatC,CNJC,CAACpC,GMI9C,YNJoC,CAAhB,CAA2CiE,gBAA3C,CAA4D,gBAA5D,CAApB;ADGA,AKAJ,AGEI,APJA,ACEoCmE,ACGvC,AIDA,AEAWhH,ACDZ,ERDwCgH,EOE5BhH,EDALiP,EPJGnM,AQIA,EDAC,KAAK,EPJG,GAAG,IOIlB,EAAuB,CPJvB,CAF0B,CAI1B;ADEA,AQCI+L,AFCJ,AJJsB,ACK1B,AMHkBrP,ACAlB,ANNA,CFIA,EAAiD,CMGzCqP,ACDUrP,EHEV8O,CEDG,EJPFd,CIOKpK,AFCF,KEDO,AFCF,CEDGE,GJPpB,CEQI,EEDU,AFCU,AFRD,CIOItC,KAAnB;ARAJ,AQCC,APHDa,AKIIlD,AJJJ,ACKJ,AMJU,ACCV,ANLI,EHGAkD,EKIIlD,EGHkB,EPDhBiI,IIIM,AGHgB,CRDjB,AKIEhI,CLJDc,GCAG,GAAG6G,GDAlB,CAAsBxD,ECAE,CAAC,CIIrB,CAAyBqE,CLJ7B,CAA6B,EQC7B,EPDwB,CAAxB,GDAA,EAL0B,AKStB,CLFJ,AKE0C,MAAtC,EAA8CkH,IAA9C;ANDJ,AKHG,AGIN,AFCI,AJJD,ACKJ,AMJI,ALJA,EIQJ,IJRQlB,EFGEnG,GEHG,CAACjH,GCEQwJ,CHCJ,AEHV,CAAWlD,EFGEY,EEHb,CAAgBwC,MKIP1J,ALJT,IKIJ,CJFG,AHC4B,AEHA,CCEOoD,AHCN,AOCb5D,ALJnB,EAAkC,CKIlC,EJFG,EAA0C;ALI7C,AKHA4D,AJEA,AKGH,AJLqC5D,ACMtC,AMJC,ALJO,ECEJ4D,EHAkC5D,GGA7B,CAACyO,AJEAjL,GGJKyK,OHIK,GAAG5L,CIFnB,GDFyB,EAArB,KHI0B,CAACnC,SAAZ,CAAsBuD,QAAtB,CAA+B,QAA/B,IAA2CH,SAA3C,GAAuDH,WAA1E,CAR0B,CAU1B;ADAA,AKHA,AHDgC,AQEpC,ANHK,GFC8B,AEH/B,CFGA,IGCM,CKCD4N,ANHE,SMGX,GAAqB;AVGjB,AKJQxI,AGKZ,APDIpJ,ACJA,AOGJ,ACDI,ANHI,EHKJA,EIJQoJ,IHAFZ,AQEAwJ,CDCDrB,CRCG,CAAC1Q,GSFG,CFGDoQ,EEHItO,ERFE,EQEE,CFGvB,ANLwB6F,AOGxB,ACDwB5F,GFGE,ACFD,CRCrB,CAAyBuC,ASFV,CRFW,AQEA3C,CRFC,GDI3B,CAA+B4C,CCJL,CAA1B,KQEsC,CAAC1C,GTEvC,CAA2C,GSFjB,CAAqB4P,cAArB,CAAX,CTEf,ASFA,ETEiErN,UAAjE;AIJM,AGON,APFH,ACHG4D,ACIJ,AMFIuI,ACDAsB,ANHI5R,EFEJ+H,AOEAuI,ACDAsB,ENHI5R,ECAiBuE,KAAK,AHEjB,CGFkBE,AHEjB5D,AOEA,CAACA,ACDA,CAACiR,CPGDxD,ACNI,CAACvL,ECAK,CAAa2B,CKGvB,CRDX,AQCA,CRDoB5D,AOEpB,CAAqBA,EPFrB,AEFI,CCAJ,AHEwB,AOExB,CNEJ,AMF6B,CNEDyD,ACNI,EAAxB,GDMR,EAAmC,GDJ/B,COEA;ATEA,AKLA,AGOA,APDJ,ACJI+D,ACIA,AMFH,ACDGiJ,ANHC,EFEDjJ,AQCAiJ,CNXmB,CAUnB,EJGI,AQEDxB,EHPG,AFMA,GKCE,ENLG,CAACxH,CMKAyH,AEJC,CAAC2B,EFId,EAAiB,GEJjB,GRDA,AQCwBG,CRDC,KAAzB,AQCA,ERDgChK,KAAhC;AFII,AKNI3G,AGQJ,APDR,ACJImH,ACGQ4F,AOFX,ERDG5F,EGHQnH,AFMA+M,IENF,ELMInN,AQEA,GNLC,CAACwH,IFGM,GAAG,KEHrB,CFG2BvH,AEHF,KFGO,AEHhC,CFGiCL,CEHDwH,EFGA,CAA5B,EEHJ;AFKI,AKRUxH,AGQFQ,APAhB,ACJImH,ACEM,AMAV,EPFIA,EGJc3H,EGQFQ,ALFKoD,EHEV,CAACxD,ASFH2P,CDEK,CLFY,CAACjM,CDFZ,CAAC8D,GFII,CAACtH,AGFA,CAAayD,CHE1B,CSFR,CTEyBxD,ESFA,EPFrB,ACEA,CDFyB,SAAzB,EFIqC,AEJD,CFIEH,KEJtC,GFIqC,CAAhB;AAEjB,AKVE,AGQYJ,ANHlB2H,ACEA,AMAAgI,ALJA/B,EFEAjG,AOEAgI,ALJA/B,ICHsB,AGQJ5N,CJLb,CDICI,ACJAI,EJOIA,EKVkB,AIOlB,ALJV,CFEW,AOEAN,ALJA4G,CJOG,AELFc,ECEE,CHGG,AIPjB,CACKnD,CDGY,ECJjB,CKIA,ALHUqH,CJMa1L,ASHFM,ALHZ,EDGc,CDFvB,CAAyB,AEDT,EKGhB,CAA4B,CTGG,CAACD,CKVhC,CAH6C,AHQ7C,CGHA,CLQuB,AELW,EFK9B,CALA,CAOA,EEPJ,AOEA,GNAiC,YCHFqL,CAAf,CADhB,EAEK/I,OAFL,CAEamL,IAAI,IAAI7O,WAAW,CAACiI,WAAZ,CAAwB4G,IAAxB,CAFrB,EAXmB,CAenB;AJOI,AQNM,ANFVvG,ACCoC5H,AMCvC,EPFG4H,ECCoC5H,IKCV,KNFf,CMEqB,ANFpB6H,ACCkC,EAAE2F,UDDhD,CAAyB,QMErB,ANFJ,CMCiB,CAGb,ANJ+B,KAAnC;AGHA7N,AJMJ,ACDI+H,ACDiC,ACCjC,ECLA/H,AHKA+H,CCDuB,CAAvB,KFEKxE,CCDG,CAACqE,GGLG,CAAC9F,KAAb,EHKA,CGLqB+G,AHKAZ,GDCzB,CAA2B/D,IINvB,CAN6C,AJYjD,CIJI,CJI8B,ACD9B,EEAiBgK,KAAK,CAACpN,IAAvB,EAA6BoN,KAAK,CAAC5N,GAAnC,EAhBmB,CAkBnB;AJKId,AQJA,APDJ,ACDAkI,ACAA,AMCJ,EPDIA,EFMIlI,ICLE2E,CQADoM,CTKK,CAAC/P,AENF,CAACoH,MDCM,EDKZ,CAAiB5G,ACLFkD,AQAvB,EPDI,CAAsB6D,AOCF,ERAI,CDKpB,ACLqB3D,CDKG,AGNf1D,EKEII,ENFjB,CDCmB,COCf,APD4BuD,EOCT/D,ALFF,CAACQ,EKElB,CRIA,CCLe,AEDnB,CFCwCM,CEDZV,GFC5B,KEDoC,CAACJ,GAArC;AHQI,AKXJ,AGMI,APDJ,ACDA,ACAH,AMCG,ALAAX,EAAAA,MHAM,AQAA6Q,CPDC9I,EFOI,CSND,CLAC,CAACqG,CKAC5O,GPDb,GOCmB,CAACsR,MJLP3P,CIKA,ALAb,CAA4B,ECL5B,AIK8B,CAA9B,CJLmBR,GAAnB,ADKA,ECd6C,CAW7C;ALSaQ,AQJZ,APFOsD,ACAX,AOCG,ALAH,IHDWA,EDMKtD,ESLP4P,ETKK,ESLD,GAAGvR,MAAM,CAACsR,OAAP,GAAiBD,IAAjB,GAAwBrR,MAAM,CAACwR,WAA/B,GAA6C,CAA1D;ATKmBrQ,AKRnBe,AGKH,APHS,AECVqM,AMCI,EJJArM,EFGA,CAAC8B,CHKkB7C,ACNA4D,EQEb0M,GRFN,GIFY,CAACjP,AIIA,GAAG,CAACxC,ENDrB,CEHI,AFGkB,CEHG,EIIE,CAACsR,GND5B,EAA+BxC,EEH3B,AIIiB,EJJgBpF,CIIC6H,IAAlB,GJJhB,AFGJ,CMC+CjR,QAAQ,CAACoR,IAAT,CAAcC,YAAzD;ATIW,AKPd,AJEGhO,ACCJ,ACAA2K,AMCI,ALAJ,EHFI3K,EECA,CHII,AGJHK,GMCK4N,CPDD/I,AECAqG,MKAQ,GAAG,CRFC,CAAChL,CECtB,CAAsB,CDAtB,CAAyB,AECzB,CKA2BuN,ALAD1M,EHFtB,CAA0BZ,CEC9B,CCCA,CDD+B2K,CMC3B,ALA6B,EHFG,IAAI,KECxC;AHMK,ACNG,ACAmB3N,AOEvBnB,ALAA,EFFuBmB,AOEvBnB,CTVA,CAcE,CENmB,CEElB+E,EHFIZ,AQED,CAACqL,ETIC1N,AIJA,CAACwN,EHFI,CAACpK,CDMZ,CSJF,CTIe,ASJC,IRFT,CAAejD,CGEnB,GHFI,EGEmB,GHFK+C,MGE/B,EAAqC,EHFjC,EAAuC;ADOvCjD,ACNIoC,ACDoBwE,AOGxBoF,ALAAvN,EFHwBmI,EFOxB5G,ASJAgM,ALAAvN,EHFI2D,CCDyB,AOG1B,EAAE,CPH2B,AOEpB,CTKL,CAACrC,ACNE,CAACT,EGEA,CAACkO,CJIZ,CAAczN,ICNV,CDMJ,ACNqBD,MAAjB,CAAwB,KGE5B,CAAgC,EHF5B,aGEJ,EAAiDqN,eAAjD;AJKH,ACNI,ACFgB,AOIjB2C,ALAA7R,CFJR,EAA8C,COItC6R,ALAA7R,MAAM,CAACwP,CKAC,EAAE,KLAV,CAAgB,CAAhB,EAAmB,CAAnB;AJKP,ACNI,ACFD,AOCgB,ALGZL,GHNJ,AQGA,CLGIA,IFJEvG,MEIQ,EFJA,GAAGV,MAAM,CAAC,GAAD,CAAvB;AFUJ,ACNIjD,ACHA2D,AOIAkJ,ALAC,EHDD7M,ACHA2D,AOIAkJ,MRDM,CAACzQ,CCHC,CAACA,COIC,CAAC,KRDX,CAAiBqD,CCHjB,CAAmBpD,GAAnB,CDGA,ACHuB,AOIA,CRDC,QAAxB,ECHA;AFUJ,AETIsH,AOII,ALAP,EFJGA,QAAQ,AOIE,CPJDG,YAAT,CAAsB,MAAtB,EAA8B5H,GAA9B;AFUJ,ACPI,ACFAyH,AOGYjH,EPHZiH,IDEI3D,AQCQtD,IPHJ,AOGE,CPHDoH,CDEC,CAAC1H,SAAP,CAAiBuD,ACFrB,CAAsB,ODElB,CAA0B,ACF9B,EAAgC,MDE5B,CAAJ,CCFA,CDEyC;ADQ7C,ACPQpE,ACFJoI,AOEkBzH,ALArB,EFFGyH,EDEIpI,EQAcW,IPFV,CAAC4H,IDEM,CAAC1H,OCFhB,CAAsB,CDElB,CAAsBC,GAAtB,ACFJ,CDE8B,CCFD,UAA7B,QDEI;ADQR,ACPK,ACFDsH,AOCU,EPDVA,CDAA,KQC0B,CRCnB,CCFC,CAACrF,GOCuB,MPDhC,GAAqBoF,KAArB,MOC0C;AREtCnI,ACFJ,AOA4CS,ALEhD,IHAQT,EQFwCS,GPArC2H,AEEFwG,MHAU,CAAC/N,AQFsC,CPAtD,COAwD,KLE5D,EHAQ,CAAsBQ,AGAJ,MHAlB,CAA6B,mBAA7B;AACH,ACFJ,AOD6C,ALG1C,KKHgC,CAA5B,ELGE4N,MAAM,GAAGnP,QAAQ,CAACiL,aAAT,CAAuB,GAAvB,CAAf;AJMG,ASRC,ALGJkE,EAAAA,MAAM,CAACvJ,MJKWlE,GILlB,GAAmB,SKHFL,ALGjB,GJKG,CAAmCM,ASRlC,EAAmBd,ETQmB,CSRtC,ETQyC,EAA1C,EAA8C;AAEjD,ACNA0C,ACFJ,AODK,ALGD4L,EHAA5L,AGAA4L,CKNU,EAGPmC,GLGG,CFFD5I,AEEE0G,GKNG,CAAV,ALMA,CHAY,CAACxL,CGAC,GAAd,GHAA,CAAqBiB,ECFzB,CAA0B,EDEI,IAAI;ADO9B,ACNI,ACHoB8D,AOA3B,ALGGwG,EFHwBxG,AEGxBwG,IJMIzP,EETkB,AEGhB,CAACgE,CHAGoB,EDMA,CAAClD,MCNQ,GAAGiD,GDMtB,AINA,CAAwB,CJMC,ACNE,CAACD,KGA5B,EHAsB,AGAW,CHAGjD,IAAhC,CGAoC0N,CAAP,IAAa;AJO1C,AEV4BxO,AEI5BwO,EFJ4BxO,EEI5BwO,CAAC,CAACC,IJMIzN,UAAU,AINhB,GJMmBD,YAAY,CAACE,OAAb,CAAqBH,IAArB,CAAnB;ACNA,ACJkB,AEKlB,CFLR,EAA2C,KDIhCmD,EGCG,OHDM,KAAKJ,UAAjB,EAA6B;ADO7B,ACNIG,ACJR,AEIYxD,MHAJwD,AGAIxD,EJMLQ,AEVD+G,EEII,CHAG,CAAC7H,MDMV,AEVY,EFUG,CCNX,ACJW6G,CDIKrG,KCJC,CDIjB,ACJkB,CDIK,ICJN,CAAzB,GDIQ;ADOA,ACNH,ACJL,AEGkBV,KHDd,CGCcA,EFHZyH,GDIK,EDMIvG,GEVD,CFUK,CAACC,CEVHuG,IFUF,CAAW1G,SEVK,CFUhB,AEViB,CFUxB;AACH,ACNGgD,ACL0BhE,AEGxB,IFHwBA,EDK1BgE,EGFkB,GHEb,CAAC9D,EGFkB,OHExB,CAAgBqD,MAAhB,CAAuB,KGFW,GHElC;ADOP,ACNI,ACN2B,AEGYzD,GFHb,CAA/B,EEG4CA,UAAU,EAAE;AHIvD,ACND,AEE0C,GHH1C,EGGgC,CAA5B,EFFEkI,IAAI,GAAGC,kBAAkB,EAA/B;AFaA,ACNH,AGJO4F,IAAAA,IJUE7N,GAAG,GAAI,EIVG,CJUAf,AIVCuB,IAAD,EAAOR,GAAP,CAAZ,GJUkBhB,QAAU,iBAAiB8B,IAAM,EAAvD;ACJJ,ACPI,AEEC,GAJD,GFEGoH,UAAU,CAACJ,MAAD,CAAb,EAAuB;AFYvB,ACJJ,ACPQ,AEEJzI,EAAAA,IJSI,IEXM8I,GEEC,CAAC/F,MFFQ,GAAG2E,AEEvB,GAAwB,GFFK,CAAC,KAAD,CAAzB,4CEEJ;AJUI,ACJR,ACPQ,AEEJ1H,EAAAA,QJSUe,AEXAgI,GEEC,CAACd,GFFK,CFWC,EEXEe,CFWC,IITrB,CAAwBiG,CJSGjO,KAAK,AIThC,CJSiCL,CEXC,CAAC8H,CFWH,CAA5B,IEX8B,CAA9B;AFYA,AEXAK,AEEJ9I,EAAAA,EFFI8I,MFWM3H,GITC,CJSG,AEXA,AEEFkD,CFFGtB,EFWE,EITjB,CAAkBsM,GJSKtO,CEXnB,GAAwB,AEE5B,GAA4B,CJSG,CAACK,CEXE2H,GFWX,EAAnB,EEXuC,EAAvC,oCEEJ;AJUI,AEXAD,AEEP,IFFOA,MFWM/G,IEXI,CAAClB,OFWO,EEXlB,CFWqBM,AEXAL,GAArB,CFWyB,AEXA,CFWCW,IAAD,CAAzB,OEXA;AFYAC,ACND,ACLCgH,IFWAhH,AEXAgH,KDKQ7E,KCLE,CAACoE,CFWC,CAACjG,OAAb,ACND,CDMsBP,CEXrB,CDK2B,ACLJqH,EFWvB,EAA2BjH,IAAI,CAACI,CEXhC,QFW2B,CAAeF,YAAf,CAA3B;AACA,ACNJsB,ACLC,EDKDA,SDMWtB,GCNC,CAAC2B,OAAb,CDMI,ACNiBiB,KAAK,IAAIA,KAAK,CAAC9D,SAAN,CAAgBQ,MAAhB,CAAuB,QAAvB,CAA9B;ADOC,ACND8B,EAAAA,CDAA,CAME,OAAM7B,KAAN,EAAa,CCNE,CAACoC,OAAlB,CAA0BC,MAAM,IAAIA,MAAM,CAAC9C,SAAP,CAAiBQ,MAAjB,CAAwB,QAAxB,CAApC;ADOIE,ACNJvB,ACLAoI,EDKApI,ACLAoI,EFWI7G,MEXI,CFWG,AEXFwB,CFWGzB,CCND,CAACT,GDMR,CAAcS,EEXlB,GFWI,ACNJ,ACLsB,CDKAD,MAAtB,CAA6B,MCLMsH,IAAK,EAAxC,ODKA;ADOC,ACNJ,ACLGP,EAAAA,QAAQ,CAACvH,SAAT,CAAmBC,GAAnB,CAAuB,WAAvB;AFYH,ACLD,ACNI4H,EAAAA,UAAU,CAAC7H,SAAX,CAAqBC,GAArB,CAAyB,aAAzB;AFaJ,ACNA,ACNI4H,EAAAA,UAAU,CAACT,WAAX,CAAuBG,QAAvB;AFaJ,ACNA,ACNI,SAAOM,UAAP;AFaJ,ACNA,ACNC;AFaD,ACNA;ADOA,AEZA,SAASd,cAAT,CAAyB;AACrBE,EAAAA,KADqB;ADMlB,ACJHW,EAAAA,MAFqB,CDMT5D,cAAT,CAAwB;ADOxB,ACP0BC,ACH7BnE,EDG6BmE,ACH7BnE,GAHqB,IFaTC,CCPe,ODOxB,CAAmB;AAAEH,ACPesE,ACFvCoD,EFSwB1H,ACPesE,ACFvCoD,KAJqB,KFaC;AAAczH,ACPT,ACD3BuI,CDCG,CDOiCvI,AERpCuI,CDCiD,UCN5B;AFaC,ACNtB,ACDAC,EAAAA,EFOmD,EAAhD,EAAoD,ACNjD,CACFlE,CCRiB,eDOf,EAEFC,cAFE,IAGFC,KAAK,CAACC,IAAN,CAAWhC,iBAAX,EAA8BiC,GAA9B,CAAkCzB,MAAM,IAAIA,MAAM,CAACV,aAAP,CAAqB,YAArB,CAA5C,CAHJ;ADQA,AERAkG,EAAAA;AFSA,ACJA,ACZqB,CAAzB,EAQG,GDIIrE,EDIG5C,MCJK,GDII,CCJA8C,EDIG9E,UAAU,CAACiC,GCJ7B,EDIkB,ACJe,KDIM,EAAvC;AACA,ACJI,ACJJ,QFQMC,AERAuF,EDIItC,MCJI,EFQE,CERCqC,EFQEvH,CCJG,GAAG+E,ACJF,CAAC,IDIM,CDID,ACJEC,ACJR,CFQOhD,AER9B,GDIyB,CAAW2C,CDIjB,KAAqB,ECJI,CAACQ,EDI7C,MCJyB,EAA8BC,IAA9B,CAAmCC,MAAM,IAAIA,MAAM,CAACC,QAApD,EAA8DC,SAAnF;ADKJ,ACJIV,ACJJ,IDIIA,IDIE3C,AERA+G,QFQQ,AERA,GFQGhJ,AERAiJ,CDIG,CAAC3D,MDII,CAACvD,ECJtB,GDIa,ACJgBkD,ACJF,CAAC6D,IFQI,IERL,CFQ/B,CER0CC,CDIG,KAAK,GCJnB,CAA/B,CDIiC,GAAyB,UAAzB,GAAsC9D,YAAnE;ADKJ,ACJC,ACJD,QFQM/C,AERAgH,SAAS,CFQC,EEREC,CFQClJ,YAAY,CAAC8B,CERC,CAAC,GFQf,KAAuB,KAA1C;AACA,AEToCgG,IAAAA,IFS9B5F,CET4B,UFSjB,GAAGjC,WAAW,CAAC6B,KAAZ,KAAsB,EAA1C;AACA,ACJA,ACN2CxB,IAAAA,EDMxCoE,EDIGvC,ICJG,IAAIyC,CDIE,GAAG1E,SAAS,CAAC4B,ACJ5B,EAA6B,GDIX,KAAoB,EAAtC;AACA,ACJI,ACP8B,GAAD,CAAjC,IFWMM,ECJIkD,QDIM,ECJI,CDID,CAACzD,CCJGgD,KAAK,CAACC,EDIV,ECJI,CAAWJ,CDID,CAAC3C,ICJM,CAACkD,KDItB,GCJI,CDIyB,CAACjD,ACJEkD,IAA5B,CAAiCC,GDIrC,GCJ2C,CDID,CAAClD,ECJIkD,MAAM,CAACC,CDItD,IAAyD,CAAClD,ECJtD,EAA4DmD,ODIhE,ECJf,EDIwF,CAAClD,SAA7F;AACA,ACJIyC,ACPJ,IDOIA,IDIEvC,AEXA8G,QAAQ,CFWC,CCJG,CAAC9D,ACPFgC,CFWCxH,KEXK,CAAC,EDOpB,CCPmB,CFWK,AEX5B,CFW6BiC,ACJEwD,KDIb,KAAqB,ACJE,EDIvB,GCJ4B,CDIDvD,ICJd,GAAuB,GDIpC,IAAyC,CAACE,ACJ7B,GAAkCqD,ODIjE,CAVuD,CAYvD,CCNI;AACH,ACPD,QAAM+C,UAAU,GAAGF,gBAAgB,CAAC;AFapC,ACLH,ACRyCC,IAAAA,EFalC9F,IEbgC,KFavB,GAAI,GAAG/C,aAAMD,QAAU,UAApC;ACHJ,ACVkDgB,IAAAA;AFe9C,ACJJ,ACXwC,GAAD,CAAnC,EFeGuB,SAAH,EAAc;AACVS,ACJR,ACXI,IFeIA,IEfE8G,KFeO,GEfC,CFeI,EEfDC,UFeaxJ,IEfC,CAAC+I,KFeQ,CAAC9G,KAAO,AEfjB,CAA/B,CAND,CFqBK,AEbJ;AFcC,ACJL;AACA,ACVIqH,EAAAA,QAAQ,CAACzG,SAAT,GAAqB8F,UAAU,CAACY,QAAD,CAA/B,CATD,CAWC;AFYA,MAAGrH,UAAH,EAAe;AACXO,AEZJgF,EAAAA,EFYIhF,MEZI,CAAC9B,EFYI,IAAK,GEZlB,CAAmBqD,MAAnB,CAA0B,CFYI/D,QEZ9B,EFYwC,AEZH,CFYIgC,AEZHsH,KFYU,GAA5C,AEZJ;AFaC,ACLE,ACPH9B,EAAAA,ODOY/B,CCPJ,CAAC/E,SAAT,CAAmBC,GAAnB,CDOG,ACPoB,CDOM+E,OAA1B,EAAmCC,CCPtC,CDOG,EAAuC;AAC1C,ACPA0D,EAAAA,MDOMzD,ECPE,CAAClF,ODOO,ECPhB,CDOmBa,ACPAZ,GAAnB,CAAuB,QDOQ,CAACc,ECPhC,KDOmB,CAAqBiE,OAArB,CAAnB;ADKA,AEVA,MFUGxD,EEVGwF,MFUN,EAAa,AEVC,GAAGC,KAAK,KAAK,MAA3B;AFWInF,ACLJ,IDKIA,ECLDoD,ODKU,GCLb,CDKkB,CCLH,UDKc3F,QAAQ,CAAC+B,KAAO,GAAzC;AACH,ACLG2D,ACNJ,IDMIA,EAAE,ACNF,CDMG3D,ACNF0F,KDMD,GAAW9B,ACNf,EAAe,QDMX;AACAlB,ACNA,IDMAA,MCNM8E,QDMQ,CAAC,GCNG,GAAGjC,MAAM,CAAC,KAAD,CAA3B;AFWJ,ACLqB,ACLjB,MFUDpF,CCLmBuD,GCLZ+D,IDKW,EDKrB,CCLgC9D,CDKjB,GEVM,GAAG4B,MAAM,CAAC,KAAD,CAA1B;AFWA/E,ACNe,ACHfgH,IFSAhH,AETAgH,CDGc,CAAd,ODMS,GETG,CFSE,AETD9I,SAAb,CAAuBC,EFSGT,CET1B,CAA2B,UFSW,CAAC8B,IETvC,CFS8C,GAA9C;AACH,ACNA,ACHGyH,IAAAA,WAAW,CAAC/I,SAAZ,CAAsBC,GAAtB,CAA0B,cAA1B;ADIP,ACFO6I,IAAAA,YAAY,CAAC1B,WAAb,CAAyBmB,QAAzB;AFQJ,ACJJ,ACHQO,IAAAA,EFODpH,UEPa,CFOhB,AEPiB0F,EFOD,SEPZ,CAAyBqB,SAAzB;AFQA3G,ACJR,ACFQiH,IFMAjH,AENAiH,SFMS,EENE,CAAC3B,CFME,UENd,CAAwBuB,GFMIlJ,KEN5B,MFMuC,CAAC6B,KAAO,GAA/C;AACH,ACJL,ACFQyH,IAAAA,WAAW,CAAC3B,WAAZ,CAAwBS,UAAxB;AAEAf,IAAAA,QAAQ,CAACM,WAAT,CAAqB0B,YAArB;AFKJ,AEJIhC,IAAAA,EFIDnF,MEJS,CAACyF,EFIb,EAAc,OEJV,CAAqB2B,WAArB;AFKAjH,ACLR,ACCK,GAfD,CFmBIA,KEJG,IFIM,ECLFY,EDKO,SCLtB,GDKkChD,ACLL,SDKc,CAAC4B,KAAO,GAA3C;AACH,ACLD,ACCI;ADAJ,ACCIwF,IAAAA,QAAQ,CAACM,WAAT,CAAqBmB,QAArB;AFIJ,ACJA,ACCIzB,IAAAA,EFGDlH,ECJGuF,ICCM,CAACiC,EDDA,CDIA,ECJG,EDICvF,ICJKuD,ACClB,CAAqBqD,IFGtB,ECJ0B,CAACpD,CDIAzD,CEH1B,CDDkB,CAAY,CAC9B,MDGJ,EAA0C,qBCHnB,YAAnB,CAD8B,EAE9B,6BAAmB,WAAnB,CAF8B,EAG9B,6BAAmB,SAAnB,CAH8B,CAAZ,CAAtB,CAHyB,CASzB;ADAI,ACCJ,ACLIkF,IAAAA,QAAQ,CAACM,WAAT,CAAqBuB,QAArB;AFKA7G,AEJAgF,IFIAhF,AEJAgF,QAAQ,CFIC,AEJAM,GFII,GAAGrI,KEJhB,CAAqB8I,OFIC/I,GEJtB,KFIgC,UAAhC;ACCJ,ACJC,QDIK,CACFwG,UADE,EAEFC,SAFE,EAGFC,OAHE,IAIFL,OAJJ;ADCI,ACKJpG,QDLOwC,OCKD+D,GDLF,EAAe,KCKnB,GAAmBA,UAAnB;ADJQxD,ACKR/C,ACTA,MFIQ+C,GEJDgF,MFIU,ACKXvB,ECTN,EFIsB,KCKtB,GAAkBA,IDLgBjG,KCKlC,KDL4C,CAACgC,KAAO,GAA5C;AACH,ACKLvC,ACTH,KFH6C,CAStC,SCGEyG,OAAN,GAAgBA,OAAhB,CAnByB,CAqBzB;AACA;ACVJ,SAASgD,cAAT,CAAyBQ,cAAzB,EAAyCV,SAAzC,EAAoD;AFK5C,ACMJ7C,ACVA,EDUAA,MDNQ7F,AEJF2I,QAAQ,EFIV,CEJa1B,CFIG,CCMD,CAAC,GCVG,CAAC,KAAD,CAAvB,UDUmB,EAAuBvB,UAAvB,CAAnB;ADLQvD,ACMR0D,ACVA,EDUAA,IDNQ1D,EEJFkH,YAAY,CDUC,CAAC,CDNK,AEJJpC,MAAM,CAAC,KAAD,CAA3B,IDUmB,EAAqBtB,SAArB,CAAnB;ADLK,ACMLE,ACVA,EDUAA,MCVMyD,SAAS,GAAGrC,CDUC,CAAC,ICVI,CAAC,MAAD,CAAxB,IDUmB,EAAmBrB,OAAnB,CAAnB;ADLC,ACMJ,ACVG,QAAM2D,WAAW,GAAGtC,MAAM,CAAC,KAAD,CAA1B;ADYJ,ACXI,QAAMuC,IAAI,GAAG,IAAIC,IAAJ,CAASf,SAAT,EAAoBgB,WAApB,EAAb;AFIA,ACQJ,ACXI,MFGIzJ,EEHE0J,OAAO,CFGb,EAAgB,AEHAC,OAAO,CAACJ,IAAD,CAAvB;AFIItH,ACQR,ACVIyG,EAAAA,EFEIzG,MEFI,CAAC9B,EFEI,IAAK,GEFlB,CAAmBC,GAAnB,CAAuB,OFEUJ,IEFjC,MFE6C,GAAzC;AACH,ACQL,ACVIoJ,EAAAA,YAAY,CAACjJ,SAAb,CAAuBC,GAAvB,CAA2B,iBAA3B;ADWJ,ACVIiJ,EAAAA,SAAS,CAAClJ,SAAV,CAAoBC,GAApB,CAAwB,WAAxB;AFGA,AEFAkJ,EAAAA,OFEOrH,IEFI,CAAC9B,IFEI,CAACgC,IEFjB,CAAsB/B,EFEf,CAAkB,AEFzB,CAA0B,KFEnB,EAA0B,EAA1B,CAAP,IEFA;AFGH,AEDGiJ,EAAAA,SAAS,CAACrE,SAAV,GAAsB,GAAtB;AFGJ,ACKA,ACPIsE,EAAAA,ODOK1D,ICPM,CAACZ,SAAZ,GAAwB0E,EDO5B,CAA8B7D,ICP1B,CAdgD,CAgBhD,EDKJ,EAAwCC,IAAxC,EAA8C;ADJ9C,ACMI,MAAG,CAACA,IAAD,IAAS,CAACD,QAAb,EAAuB;ADL3B,ACOI,ACRA,QDQMT,ACRAwE,EDQE,GAAGxK,MCRM,EDQE,CAACmD,ACRA4G,aDQT,CAAuBtD,ACRA,CAACgE,MAAf,CDQT,ACRgCC,CDQ3C,CAJ0C,CAK1C,ICT0C,IAAa;AACnD,QAAI5K,aAAMuG,UAAN,CAAiBsE,QAAjB,CAA0BD,OAA1B,CAAJ,EAAwC;ADS5C,ACRQ,MDQLhE,IAAI,GCRQgE,OAAP,EDQWtF,KAAnB,EAA0B;ADR9B,ACSQuB,ACRC,IDQDA,KDTC7D,aCSiB,CAAC4D,GDT3B,CCS0B,CAAlB,CDTqB,ACSI9C,OAAzB,CAAkCgD,IAAD,IAAU;ADR/CrG,ACSQyF,ACRP,EFDDzF,CEHoB,EAKpB,CDOQyF,EAAE,CAAC/C,KDTC,CAACZ,GCSL,EDTR,ECSyB,CDTJ,KAArB,WCS0CuE,IAAM,IAAIC,WAAW,CAACD,IAAD,CAAQ,WAA/D;ADRRxG,ACSK,ACbe,EFIpBA,CEECqK,EDKG,ICXgB,CAMZ,CAACC,CFFC,CAACrI,KAAX,AEEQ,EAAUuI,CFFC,EAAnB,AEEQ,KAAkBA,GAAG,IAAI,CAAP,IAAYF,OANlB,CAApB,CAjBgD,CAyBhD;AFHApK,ACSC,EDTDA,CCKA,MAIO,CDTC,CAAC+B,KAAT,GAAiB,KAAjB;AACA7B,ACSI,ACNJgK,EFHAhK,AEGAgK,WFHW,AEGA,CFHCnI,AEGAiD,GAAZ,CAAiBoF,CFHjB,GAAoB,EAApB,CEGgB,IAAa;AFF7BjK,ACSI,ACLA,EFJJA,QEIU2I,CFJD,CAAC/G,KAAV,CEIkB,EFJA,CEIGuF,CFJrB,KEI2B,CAAC,GAAD,CAAvB;AFHP,ACSO,ACLAwB,IAAAA,QAAQ,CAACxD,SAAT,GAAsB,GAAE8E,OAAQ,EAAhC;ADMA,ACLAtB,IAAAA,MDKMtC,ECLE,CAAC2B,IDKI,GAAG1B,KCLhB,CDKsB,ACLA,CDKCD,OAAP,CAAeJ,IAAf,CAAhB,CAJG,ACDH,CDMA,CCNuCgE,OAAvC;AFHR,AEIQtB,IAAAA,KFJChI,GEIO,CAACqH,YFJjB,AEIQ,CFJkBxH,AEII,MAAtB,EFJR,AEIsC,EFJF,CEI5B;AFHJ+B,ACSI8D,ACLAsC,EFJJpG,ECSI8D,ACLAsC,GFJC,CAACrH,GCSK,CDTD,ACSE6B,ACLA,CFJDzB,AEIEpB,MDKT,CAAgB,CAAC,CDTf,ACSgBiG,A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","file":"scripts.bcf3243b.js","sourceRoot":"../src","sourcesContent":["const IS_DEV = window.location.hostname === 'localhost';\nconst BASE_URL = IS_DEV ? 'http://localhost:5001/journalism-died/us-central1/api' : 'https://us-central1-journalism-died.cloudfunctions.net/api';\n\nexport const state = {\n    IS_DEV,\n    BASE_URL\n};","import { state } from './state.js';\n\nconst htmlEl = document.documentElement;\nconst newsResults = document.getElementById('news-results');\nconst keywordsEl = document.getElementById('keywords');\nconst languageEl = document.getElementById('select-language');\nconst regionEl = document.getElementById('select-region');\nconst categoriesEl = document.getElementById('select-categories');\nconst startDateEl = document.getElementById('select-date-start');\nconst endDateEl = document.getElementById('select-date-end');\n\n/**\n * @param {Boolean} latestNews If true, fetch the latest news.\n * @return {Object} The data and the url searched\n */\nexport async function fetchData ({ latestNews, pageNumber } = {}) {\n\n    let url = buildUrl({ latestNews, pageNumber });\n\n    // Add loading class\n    htmlEl.classList.add('is-loading');\n\n    // if(state.IS_DEV) {\n    //     const storedData = localStorage.getItem(url);\n    //     if(storedData) {\n            \n    //         // Remove the loading screen\n    //         htmlEl.classList.remove('is-loading');\n\n    //         return {\n    //             data: JSON.parse(storedData),\n    //             url\n    //         };\n    //     }\n    // }\n\n    try {\n        const response = await fetch(url);\n        \n        if(!response.ok) postErrorMessage(response);\n        \n        const data = await response.json();\n        \n        // if(state.IS_DEV) localStorage.setItem(url, JSON.stringify(data));\n        \n        // Remove the loading class\n        htmlEl.classList.remove('is-loading');\n\n        return { data, url };\n\n    } catch(error) {\n        console.error(error);\n    }\n}\n\n/**\n * A generalized fetch function to get DropDown menu data\n * @param {String} name The name of the drop down to fetch\n * @returns {Array | Object} The dropdown values\n */\nexport async function fetchFilterOptions (name = '') {\n\n    // In case third party cookies or whatever is denied by the user\n    if (window.localStorage) {\n        const storedData = localStorage.getItem(name);\n        if(storedData) {\n            return JSON.parse(storedData);\n        }\n    }\n\n    const url = `${ state.BASE_URL }/filters?name=${ name }`;\n    try {\n        const response = await fetch(url);\n        const data = await response.json();\n        const dropDownType = data[name];\n        localStorage.setItem(name, JSON.stringify(dropDownType));\n        return dropDownType;\n    } catch(error) {\n        console.error(error);\n    }\n}\n\n/**\n * @param {Boolean} latestNews Explicitly get latest news\n * @param {String} pageNumber Add a page-number to the url\n * @return {String} The url to fetch\n */\nexport function buildUrl ({ latestNews, pageNumber } = {}) {\n\n    // Check if the inputs have any user value\n    const isKeyword = keywordsEl.value !== '';\n    const isLanguage = languageEl.value !== 'any';\n    const isRegion = regionEl.value !== 'any';\n    const isCategory = categoriesEl.value !== 'any';\n    const isStartDate = startDateEl.value !== '';\n    const isEndDate = endDateEl.value !== '';\n    const isAllBlank = !isKeyword && !isLanguage && !isRegion && !isCategory && !isStartDate && !isEndDate;\n    const isDefault = keywordsEl.value === '' && isLanguage && !isCategory;\n\n    // Contruct the base url\n    let searchUrl = `${ state.BASE_URL }/search?`;\n\n    if(isKeyword) {\n        searchUrl += `keywords=${ keywordsEl.value }&`;\n    }\n    if(isLanguage) {\n        searchUrl += `language=${ languageEl.value }&`;\n    }\n    if(isRegion) {\n        searchUrl += `country=${ regionEl.value }&`;\n    }\n    if(isCategory) {\n        searchUrl += `category=${ categoriesEl.value }&`;\n    }\n    if(isStartDate) {\n        searchUrl += `start_date=${ startDateEl.value }&`;\n    }\n    if(isEndDate) {\n        searchUrl += `end_date=${ endDateEl.value }&`;\n    }\n    if(latestNews || isDefault || isAllBlank) {\n        \n        // If they are all blank, use default search string\n        searchUrl = `${ state.BASE_URL }/latest?`;\n\n        if(isLanguage) {\n            searchUrl += `language=${ languageEl.value }&`;\n        }\n\n        // Reset to latest news\n        if (latestNews) {\n            resetSearchValues();\n        }\n    }\n    if (pageNumber) {\n        searchUrl += `page_number=${ pageNumber }&`\n    }\n\n    return searchUrl.replace(/\\&$/g, '');\n}\n\n/**\n * Resets everything except the language filter, since language is an accepted param in latest-news\n */\nfunction resetSearchValues() {\n    categoriesEl.value = 'any';\n    keywordsEl.value = '';\n    regionEl.value = 'any';\n    startDateEl.value = '';\n    endDateEl.value = '';\n}\n\nfunction postErrorMessage(response) {\n    alert(JSON.stringify(response))\n    newsResults.innerHTML = '<br><h2 style=\"text-align: center\">Something went wrong with the server.</h2>'\n}","import { fetchFilterOptions } from './api.js';\nimport { state } from './state.js';\n\n// Cache Elements\nconst newsResults = document.getElementById('news-results');\nconst newsFilters = document.querySelector('.news-filters');\nconst filterButton = document.getElementById('filter-button');\nconst filterTrayButtons = document.querySelectorAll('.filter-tray-button');\nconst filterGroups = document.querySelectorAll('.filter-group');\n\n/**\n * Initialize the search and add search events\n */\nexport async function initFilters () {\n    await loadFilters();\n    filterButton.addEventListener('click', toggleAsideFilters);\n    filterTrayButtons.forEach(button => button.addEventListener('click', onTrayButtonClick));\n    newsResults.addEventListener('click', closeAllFilters);\n}\n\n/**\n * Toggles the aside filters, open and closes\n */\nfunction toggleAsideFilters() {\n    const closedValue = getComputedStyle(document.documentElement).getPropertyValue('--filter-width');\n    const openValue = '240px';\n    \n    // Toggle the class first\n    newsFilters.classList.toggle('active');\n\n    // Check if the filters aside should be open or closed\n    const asideWidth = newsFilters.classList.contains('active') ? openValue : closedValue;\n\n    // Then assign the value to the CSS variable\n    document.documentElement.style.setProperty('--ui-filters-width', asideWidth);\n}\n\n/**\n * Selects the active tray element and toggle the active class\n */\nfunction onTrayButtonClick(event) {\n    const activeName = event.target.dataset.name;\n    const { target } = event;    \n    filterTrayButtons.forEach(button => {\n        if(button.dataset.name !== activeName) {\n            button.classList.remove('active');\n        }\n    });\n\n    target.classList.toggle('active');\n    if (target.classList.contains('active')) {\n        newsResults.classList.add('is-active-filters');\n    } else {\n        newsResults.classList.remove('is-active-filters');\n    }\n\n    filterGroups.forEach(group => {\n        const groupName = group.dataset.name;\n        if(groupName !== activeName) {\n            group.classList.remove('active');\n        } else {\n            group.classList.toggle('active'); \n        }\n    });\n}\n\n/**\n * Removes the active classes to the filter related elements\n */\nexport function closeAllFilters () {\n    filterGroups.forEach(group => group.classList.remove('active'));\n    filterTrayButtons.forEach(button => button.classList.remove('active'));\n    newsResults.classList.remove('is-active-filters');\n}\n\n/**\n * Updates the tray text on a mobile device view\n * @param {HTMLSelectElement} language\n * @param {HTMLSelectElement} region\n */\nexport function updateTrayText({ language, region }) {\n    const [\n        languageTrayText,\n        regionTrayText\n    ] = Array.from(filterTrayButtons).map(button => button.querySelector('.tray-text'));\n    \n    if(language && languageTrayText) {\n        const languageText = Array.from(language.children).find(option => option.selected).innerText;\n        languageTrayText.innerText = languageText === 'Any' ? 'Language' : languageText;\n    }\n\n    if(region && regionTrayText) {\n        const regionText = Array.from(region.children).find(option => option.selected).innerText;\n        regionTrayText.innerText = regionText === 'Any' ? 'Region' : regionText;\n    }\n}\n\n/**\n * Load once and set previous filter preference\n * @param {String} keyName\n * @param {HTMLSelectElement} el\n */\nexport function loadStoredFilter(keyName, el) {\n    const storedLang = localStorage.getItem(keyName);\n    if(storedLang) {\n        el.value = storedLang;\n        updateTrayText({ [keyName]: el });\n    }\n}\n\n/**\n * Loads the category, language and regions filters from the API\n */\nasync function loadFilters() {\n    // Promise.all takes in an array of Promises, that run in parallel\n    // It returns the results when all 3 process are completed\n    const results = await Promise.all([\n        fetchFilterOptions('categories'),\n        fetchFilterOptions('languages'),\n        fetchFilterOptions('regions'),\n    ]);\n\n    // Destructure the array, in the same order they were called above\n    // So, first position would be the categories, etc.\n    const [\n        categories,\n        languages,\n        regions\n    ] = results;\n\n    state.categories = categories;\n    state.languages = languages;\n    state.regions = regions;\n\n    // Now that we have data for our DropDowns, \n    // we can use the same function to append to each dropdown <select> element\n    appendFilterOptions(\"#select-categories\", categories);\n    appendFilterOptions(\"#select-language\", languages);\n    appendFilterOptions(\"#select-region\", regions);\n}\n\n/**\n * Loop through a list, then create and append an <option> element to it's selector\n * @param {String} selector CSS Selector\n * @param {Array | Object} list A list to interate and create an <option> element\n */\nfunction appendFilterOptions (selector, list) {\n\n    if(!list || !selector) return;\n\n    const el = document.querySelector(selector);\n    // Check if the list is an Array (without named keys)\n    if(list instanceof Array) {\n        sortAlphabetically(list).forEach((item) => {\n            el.innerHTML += `<option value=${ item }>${ toTitleCase(item) }</option>`;\n        });\n    } else {\n        // If not an Array, then it's an Object with key, value pairs.\n        // Create an Array from the object, \n        // with position zero[0] as key and position one[1] as value\n        const entries = Object.entries(list);\n        // Destructure the params within the arguments\n        entries.forEach(([key, value]) => {\n            el.innerHTML += `<option value=${ value }>${ toTitleCase(key) }</option>`;\n        });\n    }\n}\n\n/**\n * @param {String} text Some text content\n * @return {String} A text string that is title-cased ex: \"Title Cased Example\"\n */\nfunction toTitleCase (text = '') {\n    return text\n        // make array of words\n        .split(' ')\n        // transform each first letter of word\n        .map(word => word.replace(/\\w{1}/, match => match.toUpperCase()))\n        // join array words with space into string\n        .join(' ')\n}\n\nfunction sortAlphabetically (list) {\n    return list.sort((a, b) => b.toUpperCase() < a.toUpperCase() ? 1 : -1);\n}","import { onCategoryTagClick } from './category.js';\nimport { state } from './state.js';\n\n/**\n * A map function that gets applied over every iteration\n * @param {Array} data The news data to interate over and create HTML elements\n * @returns {Array} An array of HTMLElements\n */\nexport function createNewsCard (data) {\n    const news = create('div');\n    const newsText = createNewsText(data);\n\n    const hasImage = data.image !== 'None';\n    if (hasImage) {\n        const newsImage = createNewsImage(data);\n        news.appendChild(newsImage);\n        news.classList.add('has-image');\n    }\n\n    news.classList.add('news');\n    news.appendChild(newsText);\n    \n    // For a scroll-into-view animation\n    animateIntoView(news);\n    return news;\n}\n\nfunction createNewsImage ({ url, image, title }) {\n    const newsImage = create('figure');\n    const newsLink = createNewsLink({ url });\n    const newsPicture = create('img');\n\n    newsImage.classList.add('news-image');\n    newsPicture.setAttribute('src', image);\n    newsPicture.setAttribute('alt', title);\n    newsPicture.setAttribute('loading', 'lazy');\n    newsPicture.setAttribute('width', '1200');\n    newsPicture.setAttribute('height', '675');\n    \n    newsLink.appendChild(newsPicture);\n    newsImage.appendChild(newsLink);\n    return newsImage;\n}\n\nfunction createNewsLink ({ url, title = '' }) {\n    const newsLink = create('a');\n    newsLink.classList.add('news-link');\n    newsLink.setAttribute('href', url);\n    newsLink.setAttribute('target', '_blank');\n    newsLink.setAttribute('rel', 'noopener');\n    newsLink.innerHTML = title;\n    return newsLink;\n}\n\nfunction createNewsFooter({ author, url }) {\n    const newsFooter = create('div');\n    const newsLink = createNewsLink({ url });\n    const icon = createIconExternal();\n\n    if(removeURLs(author)) {\n        const newsAuthor = create('div');\n        const authors = cleanUpAuthors(author);\n        newsAuthor.innerHTML = `By ${ authors }`;\n        newsAuthor.classList.add('news-author');\n        newsFooter.appendChild(newsAuthor);\n    }\n\n    newsLink.innerHTML = `Full Story ${icon}`;\n    newsLink.classList.add('underline');\n    newsFooter.classList.add('news-footer');\n    newsFooter.appendChild(newsLink);\n    return newsFooter;\n}\n\nfunction createNewsText ({ \n    image, \n    author, \n    url, \n    title, \n    description,\n    category,\n    published\n}) {\n    const newsText = create('div');\n    const newsMeta = createNewsMeta(category, published);\n    const newsTitle = createNewsTitle({ title, url });\n    const newsDesc = create('p');\n    const newsFooter = createNewsFooter({ author, url });\n    const descText = removeHTMLTags(description);\n\n    // Add data & text\n    newsDesc.innerHTML = removeURLs(descText);\n\n    // Add classes\n    newsText.classList.toggle('no-desc', !descText);\n    newsText.classList.add('news-text');\n    newsDesc.classList.add('news-desc');\n\n    const hasImage = image !== 'None';\n    if (!hasImage) {\n        const newsHeadline = create('div');\n        const newsDetails = create('div');\n        \n        newsHeadline.classList.add('news-headline');\n        newsDetails.classList.add('news-details');\n\n        newsHeadline.appendChild(newsMeta);\n        newsHeadline.appendChild(newsTitle);\n        \n        newsDetails.appendChild(newsDesc);\n        newsDetails.appendChild(newsFooter);\n        \n        newsText.appendChild(newsHeadline);\n        newsText.appendChild(newsDetails);\n    } else {\n        // Append Elements\n        newsText.appendChild(newsMeta);\n        newsText.appendChild(newsTitle);\n        newsText.appendChild(newsDesc);\n        newsText.appendChild(newsFooter);\n    }\n    \n    return newsText;\n}\n\nfunction createNewsMeta (categoriesList, published) {\n    const newsMeta = create('div');\n    const newsCategory = create('div');\n    const separator = create('span');\n    const newsPubDate = create('div');\n    const date = new Date(published).toISOString();\n    const pubDate = timeAgo(date);\n\n    newsMeta.classList.add('news-meta');\n    newsCategory.classList.add('news-categories');\n    separator.classList.add('separator');\n    newsPubDate.classList.add('news-pubdate');\n\n    separator.innerText = '•';\n    newsPubDate.innerText = pubDate;    \n    \n    // Remove categories that are not in the dropdown\n    const filteredCat = categoriesList.filter((catText) => {\n        if (state.categories.includes(catText)) {\n            return catText;\n        }\n    })\n    // Limit to display only 2 categories\n    .filter((catText, idx) => idx <= 1 && catText);\n\n    // Create categories elemenes for each category and attach a click event listener\n    filteredCat.map((catText) => {\n        \n        const category = create('a');\n        category.innerText = `${catText}`;\n        category.setAttribute('data-category', catText);\n        category.setAttribute('href', '#');\n        category.classList.add('news-category', 'underline');\n        category.addEventListener('click', onCategoryTagClick);\n        return category;\n    })\n\n    // After creating category elements, append them to the newsCategory parent element\n    .forEach((category, idx) => {\n        newsCategory.appendChild(category);\n        const lastEl = filteredCat.length - 1 === idx;\n        if(!lastEl) {\n            newsCategory.innerHTML += `<span class=\"separator\">•</span>`;\n        }\n    });\n\n    newsMeta.appendChild(newsCategory);\n    newsMeta.appendChild(separator);\n    newsMeta.appendChild(newsPubDate);\n\n    return newsMeta;\n}\n\nfunction createNewsTitle ({ title, url }) {\n    const newsTitle = create('h2');\n    const newsLink = createNewsLink({ title, url });\n    newsLink.classList.add('underline');\n    newsTitle.classList.add('news-title');\n    newsTitle.appendChild(newsLink);\n    return newsTitle;\n}\n\nfunction createIconExternal() {\n    return `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\">\n            <line x1=\"14.5\" y1=\"1.5\" x2=\"1.5\" y2=\"14.5\"></line>\n            <polyline points=\"7.5,1.5 14.5,1.5 14.5,8.5 \"></polyline>\n        </svg>\n    `;\n}\n\n/**\n * Authors are in different formats. This is a way to clean up the authors by removing HTML and unnecessary entities.\n * Limits authors to first three.\n * @param {String} author\n * @return {String} \n */\nfunction cleanUpAuthors(author) {\n    \n    // \"temp\" parses any html entities that need to be removed\n    const temp = document.createElement('span');\n    temp.innerHTML = author;\n\n    const cleanedAuthor = removeHTMLTags(parseJSON(temp.innerText))\n    .split(',')\n    // Remove any false values\n    .filter(Boolean)\n    // Creates a break between author names\n    .map((a, idx, src) => `${ a }${ src.length > 1 && idx >= 0 && idx < src.length - 1 ? \",<br>\" : \"\" }`)\n    // Only keep the first three authors\n    .slice(0, 3)\n    .join('')\n    .trim();\n\n    temp.remove();\n    return cleanedAuthor;\n}\n\n/**\n * Removes HTML from the payload (which is not needed)\n * @param {String} html Any string containing HTML tags\n * @return {String} HTML tags removed from a string\n */\nfunction removeHTMLTags (html = '') {\n    return html.replace(/(<([^>]+)>)|(\\\\n)/gmi, '');\n}\n\n/**\n * Data is sometimes sending back JSON as the author\n * This check if the payload is JSON and checks and returns the name prop\n */\nfunction parseJSON (json = '') {\n    if(json.match(/(^\\[{)|(}\\]$)/g)) {\n        const j = JSON.parse(json)[0];\n        return !j ? '' : j.name;\n    } else {\n        return json\n    }\n}\n\n/**\n * Remove any URLs from the payload\n */\nfunction removeURLs(text = '') {\n    return text.replace(/@?https?:\\/\\/|(www.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/igm, '');\n}\n\n/**\n * @param {String} tag An HTML tag to create\n * @return {HTMLElement} An HTML Element\n */\nfunction create (tag) {\n    return document.createElement(tag);\n}\n\nconst timeTemplates = {\n    prefix: \"\",\n    suffix: \" ago\",\n    seconds: \"less than a minute\",\n    minute: \"a minute\",\n    minutes: \"%d minutes\",\n    hour: \"an hour\",\n    hours: \"%d hours\",\n    day: \"a day\",\n    days: \"%d days\",\n    month: \"about a month\",\n    months: \"%d months\",\n    year: \"about a year\",\n    years: \"%d years\"\n};\n\n/**\n * @param {String} t Time type\n * @param {Number} n Time elapsed\n * @return {String} Time passed in english\n */\nfunction timeTemplate (t, n) {\n    return timeTemplates[t] && timeTemplates[t].replace(/%d/i, Math.abs(Math.round(n)));\n};\n\n/**\n * @param {String} time ISO String time format\n * @return {String} The time pased since\n */\nfunction timeAgo (time) {\n    if(!time)\n        return;\n    time = time.replace(/\\.\\d+/, \"\"); // remove milliseconds\n    time = time.replace(/-/, \"/\").replace(/-/, \"/\");\n    time = time.replace(/T/, \" \").replace(/Z/, \" UTC\");\n    time = time.replace(/([\\+\\-]\\d\\d)\\:?(\\d\\d)/, \" $1$2\"); // -04:00 -> -0400\n    time = new Date(time * 1000 || time);\n\n    const now = new Date();\n    const seconds = ((now.getTime() - time) * .001) >> 0;\n    const minutes = seconds / 60;\n    const hours = minutes / 60;\n    const days = hours / 24;\n    const years = days / 365;\n\n    return timeTemplates.prefix + (\n        seconds < 45 && timeTemplate('seconds', seconds) ||\n        seconds < 90 && timeTemplate('minute', 1) ||\n        minutes < 45 && timeTemplate('minutes', minutes) ||\n        minutes < 90 && timeTemplate('hour', 1) ||\n        hours < 24 && timeTemplate('hours', hours) ||\n        hours < 42 && timeTemplate('day', 1) ||\n        days < 30 && timeTemplate('days', days) ||\n        days < 45 && timeTemplate('month', 1) ||\n        days < 365 && timeTemplate('months', days / 30) ||\n        years < 1.5 && timeTemplate('year', 1) ||\n        timeTemplate('years', years)\n    ) + timeTemplates.suffix;\n};\n\n/**\n * Intersection Obsever to create an animation when scrolled into the screen\n * @param {HTMLElement} target\n */\nfunction animateIntoView(target) {\n    let options = {\n        rootMargin: '0px',\n        threshold: [0, 0.5, 1]\n    };\n    let callback = (entries) => {\n        entries.forEach((entry) => {\n            const ratio = entry.intersectionRatio;\n            const { top } = entry.boundingClientRect;\n            const shouldAppear = ratio > 0.5 && top >= 0;\n            const shouldHide = ratio === 0 && top >= 0;\n            if (shouldAppear) {\n                entry.target.classList.add('is-visible');\n            } else if (shouldHide) {\n                entry.target.classList.remove('is-visible');\n            }\n        });\n    };\n    let observer = new IntersectionObserver(callback, options);\n    observer.observe(target);\n}","import { updatePageUI } from './update.js';\nimport { fetchData } from './api.js';\n\nconst prev = document.getElementById('news-prev');\nconst next = document.getElementById('news-next');\nconst current = document.getElementById('news-current-page');\n\n/**\n * Updates the pagination with page number and url\n * @param {Object} data The response object\n * @param {String} url The URL that was fetched\n */\nexport function updatePagination(data, url) {\n\n    // Set current page\n    current.innerText = data.page;\n\n    // Attach the pagination data to the buttons, for previons and next\n    // Prev Button\n    const prevPage = data.page - 1;\n    if (prevPage > 0) {\n        prev.setAttribute('data-page', prevPage);\n        prev.removeAttribute('disabled');\n    } else {\n        prev.setAttribute('disabled', true);\n    }\n\n    // Next Button\n    const nextPage = data.page + 1;\n    next.setAttribute('data-page', nextPage);\n}\n\n/**\n * Fetches new data, next or previous page\n * @param {Object} event\n */\nasync function paginatePage(event) {\n    const { page } = event.target.dataset;\n    const response = await fetchData({  pageNumber: page });\n    \n    updatePageUI(response.data, response.url)\n}\n\nnext.addEventListener('click', paginatePage);\nprev.addEventListener('click', paginatePage);","import { createNewsCard } from './newsCard.js';\nimport { updatePagination } from './pagination.js';\nimport { fetchData } from './api.js';\n\nconst newsResults = document.getElementById('news-results');\nlet store = {};\n\n/**\n * Updates the page when new data has been received\n * @param {Object} data The response data\n * @param {String} url The URL that was fetched\n */\nexport function updatePageUI (data = { news: [] }, url = '' ) {\n    store = { data, url };\n    newsResults.style.opacity = 0;\n    newsResults.addEventListener('transitionend', onTransitionEnd);\n}\n\n/**\n * Callback the fade out animation\n * @param {Object} data The response data\n * @param {String} url The URL that was fetched\n */\nfunction appendData () {\n    \n    // If there are not search results\n    if (store.data.news.length === 0) {\n        return searchNotFound();\n    } else {\n        // Empty the parent \n        newsResults.innerHTML = '';\n    }\n\n    // Build the HTML for the news cards\n    store.data.news\n        .map((n) => createNewsCard(n))\n        .forEach(card => newsResults.appendChild(card));\n\n    //Pass the search info to the pagination buttons\n    updatePagination(store.data, store.url);\n\n    // Remove the style attribute to show the element again (removes opacity)\n    newsResults.removeAttribute('style');\n}\n\nfunction onTransitionEnd (event) {\n    if(event.propertyName === 'opacity') {\n        newsResults.removeEventListener('transitionend', onTransitionEnd);\n        window.scrollTo(0, 0);\n        appendData();\n    }\n};\n\nfunction searchNotFound() {\n    const goBack = document.createElement('a');\n    goBack.innerText = 'Go Back';\n    goBack.href = '#';\n    goBack.addEventListener('click', async (e) => {\n        e.preventDefault();\n        const { data, url } = await fetchData({ latestNews: true });\n        updatePageUI(data, url);\n    });\n    newsResults.innerHTML = '<h2 style=\"margin-bottom: 30px;\">Nothing found.</h2>';\n    newsResults.appendChild(goBack);\n    newsResults.style.cssText = 'text-align: center; padding: 30px; opacity: 1;';\n}","import { updatePageUI } from './update.js';\nimport { fetchData } from './api.js';\nimport { loadStoredFilter } from './filters.js';\n\nconst categoriesEl = document.getElementById('select-categories');\n\n/**\n * Change handler for category, also sends a new request for data and updates UI\n */\nexport function initCategoryChange () {\n    loadStoredFilter('category', categoriesEl);\n    categoriesEl.addEventListener('change', onChange);\n}\n\nasync function onChange (event) {\n    const { data, url } = await fetchData();\n    \n    // Update the page results\n    updatePageUI(data, url);\n\n    // Save to local storage\n    localStorage.setItem('category', event.target.value);\n}\n\n/**\n * The category tags that lay with the news cards\n * @param {Object} event\n */\nexport async function onCategoryTagClick (event) {\n    event.preventDefault();\n    const { category } = event.target.dataset;\n    const { data, url } = await fetchData();\n\n    // Update the category selector\n    categoriesEl.value = category;\n\n    // Update the page results\n    updatePageUI(data, url); \n    \n    // Save to local storage\n    localStorage.setItem('category', category);\n}","import { updatePageUI } from './update.js';\nimport { fetchData } from './api.js';\nimport { \n    closeAllFilters, \n    updateTrayText, \n    loadStoredFilter\n} from './filters.js';\n\nconst languageEl = document.getElementById('select-language');\n\n/**\n * Initialize the language change events\n */\nexport function initLanguageChange() {\n    languageEl.addEventListener('change', onChange);\n    loadStoredFilter('language', languageEl);\n}\n\nasync function onChange (event) {\n    const { data, url } = await fetchData();\n    const lang = event.target.value;\n\n    // Update the page results\n    updatePageUI(data, url);\n    updateTrayText({ language: event.target });\n    closeAllFilters();\n\n    // Save to local storage\n    localStorage.setItem('language', lang);\n\n    // Set the lang on the HTML element\n    if (lang !== 'any') {\n        document.documentElement.setAttribute('lang', lang);\n    }\n}","import { updatePageUI } from './update.js';\nimport { fetchData } from './api.js';\nimport {\n    closeAllFilters,\n    updateTrayText,\n    loadStoredFilter\n} from './filters.js';\n\nconst regionsEl = document.getElementById('select-region');\n\n/**\n * Initialize the change events for the region filters\n */\nexport function initRegionChange() {\n    regionsEl.addEventListener('change', onChange);\n    loadStoredFilter('region', regionsEl);\n}\n\n// Update the page when the region has changed\nasync function onChange (event) {\n    const { data, url } = await fetchData();\n\n    // Update the page results\n    updatePageUI(data, url);\n    updateTrayText({ region: event.target });\n    closeAllFilters();\n\n    // Save to local storage\n    localStorage.setItem('region', event.target.value);\n}","import { updatePageUI } from './update.js';\nimport { fetchData } from './api.js';\nimport { closeAllFilters } from './filters.js';\n\nconst startDate = document.getElementById('select-date-start');\nconst endDate = document.getElementById('select-date-end');\nconst apply = document.getElementById('filter-date-apply');\nlet start;\nlet end;\n\n/**\n * Initialize date change events\n */\nexport function initDateChange() {\n\n    // Add event listeners and pass in an string ID to know which date picker is being picked\n    startDate.addEventListener('change', onChange.bind(null, 'startDate'));\n    endDate.addEventListener('change', onChange.bind(null, 'endDate'));\n    \n    // This event applies a new search with a specified date range\n    apply.addEventListener('click', onApply);\n}\n\n// Update the start and end variables on user input\n// Function statements are hoisted to the top\nfunction onChange (type, event) {\n    if(type === 'startDate') {\n        start = event.target.value;\n    }\n    if(type === 'endDate') {\n        end = event.target.value;\n    }\n}\n\n// Seperate action to make sure there is a date range\nasync function onApply () {\n\n    // If start and end dates exist, create a new url\n    if(start && end) {\n        const { data, url } = await fetchData();\n\n        // Update the page results\n        updatePageUI(data, url);\n        closeAllFilters();\n    }\n}\n","import { fetchData } from './api.js';\nimport { updatePageUI } from './update.js';\n\n// Cache Elements\nconst newsTitle = document.querySelector('h1');\nconst keywords = document.getElementById('keywords');\nconst searchForm = document.getElementById('news-form');\nconst searchButton = document.getElementById('search-button');\n\n/**\n * Initialize the search and add search events\n */\nexport function initSearch () {\n    keywords.addEventListener('focus', onSearchFocus);\n    keywords.addEventListener('blur', onSearchBlur);\n    searchButton.addEventListener(\"click\", onSearchClick);\n    newsTitle.addEventListener('click', onTitleClick);\n\n    // Search on inital load\n    onSearchClick();\n}\n\n/**\n * Click hanlder that creates a new search URL, fetched the data, and updates the UI\n * @param {Object} event\n */\nasync function onSearchClick (event) {\n    if(event) event.preventDefault();\n    \n    const { data, url } = await fetchData();\n    updatePageUI(data, url);\n}\n\nfunction onSearchFocus() {\n    searchForm.classList.add('is-focused');\n}\n\nfunction onSearchBlur () {\n    searchForm.classList.remove('is-focused');\n}\n\nfunction onTitleClick() {\n    const half = window.scrollY / 2;\n    const diff = window.scrollY > half ? window.innerHeight : 0;\n    const percent = (window.scrollY + diff) / (document.body.clientHeight);\n    const timeout = 1000 * percent;\n    window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n    });\n    setTimeout(async () => {\n        const { data, url } = await fetchData({ latestNews: true });\n        updatePageUI(data, url);\n    }, timeout);\n}","const themeCheckbox = document.getElementById('select-theme');\nconst themeClassName = 'is-dark-mode';\n\n/**\n * Initialize the change events for the theme\n */\nexport function initTheme() {\n    themeCheckbox.addEventListener('change', onChange);\n    loadTheme();\n}\n\n/**\n * Event to handle theme change\n */\nfunction onChange (event) {\n    const { checked } = event.target;\n    toggleTheme(checked);\n    localStorage.setItem(themeClassName, checked);\n}\n\n/**\n * Toggle the theme, adds a class to the HTML root element\n * @param {Boolean} bool\n */\nfunction toggleTheme(bool) {\n    document.documentElement.classList.toggle(themeClassName, bool);\n}\n\n/**\n * Runs once the page has loaded, sets the theme, to dark or light\n */\nfunction loadTheme() {\n    const isDark = JSON.parse(localStorage.getItem(themeClassName));\n    toggleTheme(isDark);\n    themeCheckbox.checked = isDark;\n}","import { initFilters } from './filters.js';\r\nimport { initCategoryChange } from './category.js';\r\nimport { initLanguageChange } from './language.js';\r\nimport { initRegionChange } from './region.js';\r\nimport { initDateChange } from './date.js';\r\nimport { initSearch } from './search.js';\r\nimport { initTheme } from './theme.js';\r\n\r\n/**\r\n * Initializes modules\r\n */\r\nasync function startApp () {\r\n\r\n    // Initialize\r\n    await initFilters();\r\n    initCategoryChange();\r\n    initLanguageChange();\r\n    initRegionChange();\r\n    initDateChange();\r\n    initSearch();\r\n    initTheme();\r\n}\r\n\r\nstartApp();"]}